"use strict";(()=>{var a={};a.id=1326,a.ids=[636,1326,3220],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},17666:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>q,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>o,getStaticProps:()=>n,handler:()=>y,reportWebVitals:()=>r,routeModule:()=>x,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>u,unstable_getStaticPaths:()=>t,unstable_getStaticProps:()=>s});var e=c(63885),f=c(80237),g=c(81413),h=c(45109),i=c(80363),j=c(59195),k=c(12289),l=a([i]);i=(l.then?(await l)():l)[0];let m=(0,g.M)(j,"default"),n=(0,g.M)(j,"getStaticProps"),o=(0,g.M)(j,"getStaticPaths"),p=(0,g.M)(j,"getServerSideProps"),q=(0,g.M)(j,"config"),r=(0,g.M)(j,"reportWebVitals"),s=(0,g.M)(j,"unstable_getStaticProps"),t=(0,g.M)(j,"unstable_getStaticPaths"),u=(0,g.M)(j,"unstable_getStaticParams"),v=(0,g.M)(j,"unstable_getServerProps"),w=(0,g.M)(j,"unstable_getServerSideProps"),x=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/procurement/rfq",pathname:"/procurement/rfq",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:j}),y=(0,k.U)({srcPage:"/procurement/rfq",config:q,userland:j,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});d()}catch(a){d(a)}})},22326:a=>{a.exports=require("react-dom")},27910:a=>{a.exports=require("stream")},28462:a=>{a.exports=import("@tanstack/react-query")},29021:a=>{a.exports=require("fs")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},45109:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(82341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("meta",{name:"description",content:"FibreFlow - Fiber Network Project Management"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,d.jsxs)("body",{className:"min-h-screen bg-background font-sans antialiased",children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},59195:(a,b,c)=>{c.r(b),c.d(b,{default:()=>i,getServerSideProps:()=>j});var d=c(8732),e=c(82015),f=c(44233),g=c(74952);function h({onCreateRFQ:a,onSelectRFQ:b,selectedRFQId:c,className:f,rfqs:h=[],onView:i,onEdit:j}){let[k,l]=(0,e.useState)(h),[m,n]=(0,e.useState)(0===h.length),o=a=>new Date(a).toLocaleDateString();return m?(0,d.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,d.jsx)(g.krw,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading RFQs..."})]}):(0,d.jsxs)("div",{className:`space-y-6 ${f}`,children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Request for Quotations (",k.length,")"]}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Manage and track your RFQ requests"})]}),a&&(0,d.jsxs)("button",{onClick:a,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:[(0,d.jsx)(g.FWt,{className:"h-4 w-4 mr-2"}),"Create RFQ"]})]}),k.length>0?(0,d.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,d.jsx)("div",{className:"divide-y divide-gray-200",children:k.map(a=>(0,d.jsx)("div",{className:`p-6 hover:bg-gray-50 cursor-pointer transition-colors ${c===a.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>{b&&b(a),i&&i(a.id)},children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:a.title}),(0,d.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"closed":default:return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800"}})(a.status)}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),a.description&&(0,d.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:a.description}),(0,d.jsxs)("div",{className:"mt-3 flex items-center space-x-6 text-sm text-gray-500",children:[(0,d.jsxs)("span",{children:["Created: ",o(a.createdAt)]}),a.dueDate&&(0,d.jsxs)("span",{children:["Due: ",o(a.dueDate)]}),(0,d.jsxs)("span",{children:["Suppliers: ",a.supplierCount||0]}),(0,d.jsxs)("span",{children:["Responses: ",a.responseCount||0]})]})]}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:j&&(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),j(a.id)},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Edit"})})]})},a.id))})}):(0,d.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border",children:[(0,d.jsx)(g.iUU,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,d.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No RFQs Found"}),(0,d.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No RFQs have been created for this project yet."}),a&&(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Create Your First RFQ"})})]})]})}function i({projectId:a,projectName:b,initialData:c=[]}){let g=(0,f.useRouter)(),[i,j]=(0,e.useState)(c),[k,l]=(0,e.useState)(!c.length);return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Request for Quotations"}),b&&(0,d.jsxs)("p",{className:"mt-2 text-gray-600",children:["Project: ",b]})]}),k?(0,d.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,d.jsx)("div",{className:"text-gray-500",children:"Loading RFQ data..."})}):(0,d.jsx)(h,{rfqs:i,onCreateRFQ:()=>{g.push("/procurement/rfq/new")},onView:a=>{g.push(`/procurement/rfq/${a}`)},onEdit:a=>{g.push(`/procurement/rfq/${a}/edit`)},className:"mt-6"})]})})}let j=async a=>{let{query:b}=a;return{props:{projectId:b.projectId||null,projectName:b.projectName||null,initialData:[]}}}},74075:a=>{a.exports=require("zlib")},74552:a=>{a.exports=require("pino")},82015:a=>{a.exports=require("react")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[4952,2341,5781,4233,363],()=>b(b.s=17666));module.exports=c})();