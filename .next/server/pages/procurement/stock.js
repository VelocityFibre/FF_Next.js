"use strict";(()=>{var a={};a.id=8029,a.ids=[636,3220,8029],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},22326:a=>{a.exports=require("react-dom")},27910:a=>{a.exports=require("stream")},28462:a=>{a.exports=import("@tanstack/react-query")},29021:a=>{a.exports=require("fs")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},45109:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(82341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("meta",{name:"description",content:"FibreFlow - Fiber Network Project Management"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,d.jsxs)("body",{className:"min-h-screen bg-background font-sans antialiased",children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},54822:a=>{a.exports=require("react-router-dom")},56372:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>k});var e=c(8732),f=c(82015),g=c(54822),h=c(74952),i=c(56877);c(49888);var j=a([i]);function k(){let[a]=(0,g.useSearchParams)(),{selectedProject:b,permissions:c}=(0,g.useOutletContext)()||{},[d,j]=(0,f.useState)(a.get("tab")||"dashboard"),[,k]=(0,f.useState)(!0),[,l]=(0,f.useState)(null),[m,n]=(0,f.useState)({totalItems:0,totalValue:0,lowStockItems:0,outOfStockItems:0,pendingReceipts:0,pendingIssues:0,stockTurnover:0,warehouseUtilization:0});return b?c?.canAccessStock?(0,e.jsxs)("div",{className:"p-6 space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Stock Management"}),(0,e.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Comprehensive inventory control for ",b.name]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)(i.$,{variant:"outline",onClick:()=>{},className:"hidden sm:flex",children:[(0,e.jsx)(h.srL,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),(0,e.jsxs)(i.$,{variant:"outline",onClick:()=>j("reports"),children:[(0,e.jsx)(h.VH9,{className:"h-4 w-4 mr-2"}),"Reports"]}),(0,e.jsxs)(i.$,{variant:"outline",onClick:()=>{window.dispatchEvent(new CustomEvent("stockDataRefresh"))},children:[(0,e.jsx)(h.ntg,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(m.lowStockItems>0||m.outOfStockItems>0)&&(0,e.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,e.jsxs)("div",{className:"flex items-start gap-3",children:[(0,e.jsx)(h.hcu,{className:"h-5 w-5 text-red-600 mt-0.5"}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:"font-medium text-red-900",children:"Stock Level Alerts"}),(0,e.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:[m.outOfStockItems>0&&`${m.outOfStockItems} item${1!==m.outOfStockItems?"s":""} out of stock. `,m.lowStockItems>0&&`${m.lowStockItems} item${1!==m.lowStockItems?"s":""} below minimum level. `,"Immediate action required to prevent project delays."]})]}),(0,e.jsx)(i.$,{size:"sm",onClick:()=>j("dashboard"),className:"bg-red-600 text-white hover:bg-red-700",children:"View Details"})]})}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,e.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,e.jsx)(h.lPX,{className:"h-5 w-5 text-blue-600"})}),(0,e.jsxs)("div",{className:"ml-3",children:[(0,e.jsx)("p",{className:"text-sm text-gray-500",children:"Total Items"}),(0,e.jsx)("p",{className:"text-xl font-bold text-gray-900",children:m.totalItems.toLocaleString()})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,e.jsx)(h.ntg,{className:"h-5 w-5 text-green-600"})}),(0,e.jsxs)("div",{className:"ml-3",children:[(0,e.jsx)("p",{className:"text-sm text-gray-500",children:"Total Value"}),(0,e.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["R ",(m.totalValue/1e3).toFixed(0),"k"]})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,e.jsx)(h.hcu,{className:"h-5 w-5 text-red-600"})}),(0,e.jsxs)("div",{className:"ml-3",children:[(0,e.jsx)("p",{className:"text-sm text-gray-500",children:"Critical Stock"}),(0,e.jsx)("p",{className:"text-xl font-bold text-red-600",children:m.lowStockItems+m.outOfStockItems})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,e.jsx)(h.eMd,{className:"h-5 w-5 text-orange-600"})}),(0,e.jsxs)("div",{className:"ml-3",children:[(0,e.jsx)("p",{className:"text-sm text-gray-500",children:"Pending"}),(0,e.jsx)("p",{className:"text-xl font-bold text-orange-600",children:m.pendingReceipts+m.pendingIssues})]})]})})]}),(0,e.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)(h.lPX,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,e.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Stock Management"}),(0,e.jsx)("p",{className:"mt-2 text-gray-500",children:"This module is under development. Stock management features including inventory dashboard, goods receipts, stock operations, warehouse management, and reporting will be available here."}),(0,e.jsxs)("div",{className:"mt-6 text-sm text-gray-400",children:["Current tab: ",d]})]})})]}):(0,e.jsx)("div",{className:"p-6",children:(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)(h.hcu,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),(0,e.jsx)("p",{className:"text-gray-500",children:"You don't have permission to access stock management features."})]})}):(0,e.jsx)("div",{className:"p-6",children:(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)(h.lPX,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Project"}),(0,e.jsx)("p",{className:"text-gray-500",children:"Choose a project to access stock management features."})]})})}i=(j.then?(await j)():j)[0],d()}catch(a){d(a)}})},56877:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{$:()=>i});var e=c(8732),f=c(82015),g=c(50802),h=a([g]);g=(h.then?(await h)():h)[0];let i=(0,f.forwardRef)(({className:a,variant:b="primary",size:c="md",fullWidth:d=!1,loading:f=!1,disabled:h,children:i,...j},k)=>(0,e.jsxs)("button",{ref:k,className:(0,g.clsx)("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[b],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c],d&&"w-full",a),disabled:h||f,...j,children:[f&&(0,e.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]}));i.displayName="Button",d()}catch(a){d(a)}})},74075:a=>{a.exports=require("zlib")},74552:a=>{a.exports=require("pino")},82015:a=>{a.exports=require("react")},87024:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>q,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>o,getStaticProps:()=>n,handler:()=>y,reportWebVitals:()=>r,routeModule:()=>x,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>u,unstable_getStaticPaths:()=>t,unstable_getStaticProps:()=>s});var e=c(63885),f=c(80237),g=c(81413),h=c(45109),i=c(80363),j=c(93101),k=c(12289),l=a([i,j]);[i,j]=l.then?(await l)():l;let m=(0,g.M)(j,"default"),n=(0,g.M)(j,"getStaticProps"),o=(0,g.M)(j,"getStaticPaths"),p=(0,g.M)(j,"getServerSideProps"),q=(0,g.M)(j,"config"),r=(0,g.M)(j,"reportWebVitals"),s=(0,g.M)(j,"unstable_getStaticProps"),t=(0,g.M)(j,"unstable_getStaticPaths"),u=(0,g.M)(j,"unstable_getStaticParams"),v=(0,g.M)(j,"unstable_getServerProps"),w=(0,g.M)(j,"unstable_getServerSideProps"),x=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/procurement/stock",pathname:"/procurement/stock",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:j}),y=(0,k.U)({srcPage:"/procurement/stock",config:q,userland:j,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});d()}catch(a){d(a)}})},93101:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>j,getServerSideProps:()=>k});var e=c(8732),f=c(82015),g=c(44233),h=c(56372),i=a([h]);function j({projectId:a,projectName:b,initialData:c=[]}){let d=(0,g.useRouter)(),[i,j]=(0,f.useState)(c),[k,l]=(0,f.useState)(!c.length);return(0,e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Stock Management"}),b&&(0,e.jsxs)("p",{className:"mt-2 text-gray-600",children:["Project: ",b]})]}),(0,e.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,e.jsx)("button",{onClick:()=>{d.push("/procurement/stock/add")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Stock"}),(0,e.jsx)("button",{onClick:()=>{d.push("/procurement/stock/transfer")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Transfer Stock"}),(0,e.jsx)("button",{onClick:()=>{d.push("/procurement/stock/movements")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"View Movements"})]}),k?(0,e.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,e.jsx)("div",{className:"text-gray-500",children:"Loading stock data..."})}):(0,e.jsx)(h.A,{projectId:a,stockItems:i})]})})}h=(i.then?(await i)():i)[0];let k=async a=>{let{query:b}=a,c=b.projectId,d=b.projectName;return{props:{projectId:c||null,projectName:d||null,initialData:[]}}};d()}catch(a){d(a)}})}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[4952,2341,5781,4233,363],()=>b(b.s=87024));module.exports=c})();