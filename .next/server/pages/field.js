"use strict";(()=>{var a={};a.id=5364,a.ids=[636,3220,5364],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},13786:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>n,getServerSideProps:()=>o});var e=c(8732),f=c(82015),g=c(84623),h=c(38822),i=c(37650),j=c(57621),k=c(55076),l=c(98717),m=a([h,i,j,k,l]);function n({initialTasks:a=[],initialTechnicians:b=[]}){let[c,d]=(0,f.useState)(!0),[m,n]=(0,f.useState)(a),[o,p]=(0,f.useState)(null),[q,r]=(0,f.useState)(b),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(!1),[w,x]=(0,f.useState)("tasks"),[y,z]=(0,f.useState)(!a.length),A=async()=>{z(!0);try{let[a,b]=await Promise.all([fetch("/api/field/tasks"),fetch("/api/field/technicians")]);if(!a.ok||!b.ok)throw Error("Failed to load field data");let c=await a.json(),d=await b.json();n(c.tasks||[]),r(d.technicians||[])}catch(a){console.error("Error loading field data:",a),n([]),r([])}finally{z(!1)}},B=async()=>{t(!0);try{let a=await fetch("/api/field/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tasks:m.filter(a=>"pending"===a.syncStatus)})});a.ok&&(await a.json(),n(a=>a.map(a=>({...a,syncStatus:"synced",offline:!1}))))}catch(a){console.error("Sync failed:",a)}finally{t(!1)}},C=async(a,b)=>{if(n(d=>d.map(d=>d.id===a?{...d,status:b,syncStatus:"pending",offline:!c}:d)),c)try{await fetch(`/api/field/tasks/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})})}catch(a){console.error("Failed to update task status:",a)}},D=async()=>{try{let a=await fetch("/api/field/export"),b=await a.blob(),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`field-report-${new Date().toISOString().split("T")[0]}.csv`,d.click(),URL.revokeObjectURL(c)}catch(a){console.error("Export failed:",a)}},E=(()=>{let a=m.filter(a=>"completed"===a.status).length,b=m.filter(a=>"in_progress"===a.status).length,c=m.filter(a=>"pending"===a.status).length;return{completed:a,inProgress:b,pending:c}})();return y?(0,e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,e.jsx)("div",{className:"text-gray-500",children:"Loading field app data..."})}):(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)(g.a,{title:"Field App Portal",onRefresh:()=>{A(),c&&B()},onExport:D}),(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,e.jsx)(i.a,{isOnline:c,syncInProgress:s,pendingCount:m.filter(a=>"pending"===a.syncStatus).length}),(0,e.jsx)(j.d,{}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Today's Progress"}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Completed"}),(0,e.jsx)("span",{className:"font-semibold text-green-600",children:E.completed})]}),(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"In Progress"}),(0,e.jsx)("span",{className:"font-semibold text-blue-600",children:E.inProgress})]}),(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Pending"}),(0,e.jsx)("span",{className:"font-semibold text-gray-600",children:E.pending})]})]})]})]}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,e.jsx)("div",{className:"border-b",children:(0,e.jsxs)("nav",{className:"flex -mb-px",children:[(0,e.jsxs)("button",{onClick:()=>x("tasks"),className:`px-6 py-3 font-medium text-sm ${"tasks"===w?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Tasks (",m.length,")"]}),(0,e.jsxs)("button",{onClick:()=>x("technicians"),className:`px-6 py-3 font-medium text-sm ${"technicians"===w?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Technicians (",q.length,")"]}),(0,e.jsx)("button",{onClick:()=>x("overview"),className:`px-6 py-3 font-medium text-sm ${"overview"===w?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Overview"})]})})}),(0,e.jsxs)("div",{className:"space-y-4",children:["tasks"===w&&(0,e.jsxs)(e.Fragment,{children:[m.map(a=>(0,e.jsx)(h.y,{task:a,onStatusUpdate:C,onClick:()=>{p(a),v(!0)}},a.id)),0===m.length&&(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No tasks assigned"})]}),"technicians"===w&&(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[q.map(a=>(0,e.jsx)(l.f,{technician:a,onClick:()=>{}},a.id)),0===q.length&&(0,e.jsx)("div",{className:"col-span-full bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No technicians available"})]}),"overview"===w&&(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Field Operations Overview"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Task Distribution"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Installation"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:m.filter(a=>"installation"===a.type).length})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Maintenance"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:m.filter(a=>"maintenance"===a.type).length})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Inspection"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:m.filter(a=>"inspection"===a.type).length})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Technician Status"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Available"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:q.filter(a=>"available"===a.status).length})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"On Task"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:q.filter(a=>"on_task"===a.status).length})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"On Break"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:q.filter(a=>"on_break"===a.status).length})]})]})]})]})]})]})]}),u&&o&&(0,e.jsx)(k.I,{task:o,onClose:()=>{v(!1),p(null)},onStatusUpdate:C})]})}[h,i,j,k,l]=m.then?(await m)():m;let o=async()=>({props:{initialTasks:[],initialTechnicians:[]}});d()}catch(a){d(a)}})},28462:a=>{a.exports=import("@tanstack/react-query")},30602:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>q,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>o,getStaticProps:()=>n,handler:()=>y,reportWebVitals:()=>r,routeModule:()=>x,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>u,unstable_getStaticPaths:()=>t,unstable_getStaticProps:()=>s});var e=c(63885),f=c(80237),g=c(81413),h=c(45109),i=c(80363),j=c(13786),k=c(12289),l=a([i,j]);[i,j]=l.then?(await l)():l;let m=(0,g.M)(j,"default"),n=(0,g.M)(j,"getStaticProps"),o=(0,g.M)(j,"getStaticPaths"),p=(0,g.M)(j,"getServerSideProps"),q=(0,g.M)(j,"config"),r=(0,g.M)(j,"reportWebVitals"),s=(0,g.M)(j,"unstable_getStaticProps"),t=(0,g.M)(j,"unstable_getStaticPaths"),u=(0,g.M)(j,"unstable_getStaticParams"),v=(0,g.M)(j,"unstable_getServerProps"),w=(0,g.M)(j,"unstable_getServerSideProps"),x=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/field",pathname:"/field",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:j}),y=(0,k.U)({srcPage:"/field",config:q,userland:j,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});d()}catch(a){d(a)}})},33873:a=>{a.exports=require("path")},37650:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{a:()=>i});var e=c(8732),f=c(74952),g=c(77020),h=a([g]);function i({isOffline:a,offlineData:b,onSync:c,isSyncing:d}){return(0,e.jsxs)("div",{className:(0,g.cn)("rounded-lg p-4 border",a?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"),children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[a?(0,e.jsx)(f.Tg4,{className:"w-5 h-5 text-orange-600"}):(0,e.jsx)(f.Esr,{className:"w-5 h-5 text-green-600"}),(0,e.jsx)("span",{className:(0,g.cn)("font-medium",a?"text-orange-800":"text-green-800"),children:a?"Offline Mode":"Online"})]}),(0,e.jsxs)("button",{onClick:c,disabled:d,className:(0,g.cn)("flex items-center space-x-1 px-3 py-1 rounded-md text-sm font-medium",a?"bg-orange-100 text-orange-700 hover:bg-orange-200":"bg-green-100 text-green-700 hover:bg-green-200",d&&"opacity-50 cursor-not-allowed"),children:[(0,e.jsx)(f.e9t,{className:(0,g.cn)("w-4 h-4",d&&"animate-spin")}),(0,e.jsx)("span",{children:d?"Syncing...":"Sync Now"})]})]}),a&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Tasks:"}),(0,e.jsx)("span",{className:"font-medium",children:b.tasks})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Photos:"}),(0,e.jsx)("span",{className:"font-medium",children:b.photos})]})]}),(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Forms:"}),(0,e.jsx)("span",{className:"font-medium",children:b.forms})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Size:"}),(0,e.jsx)("span",{className:"font-medium",children:b.dataSize})]})]})]}),(0,e.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Last sync: ",b.lastSync]})]})}g=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})},38822:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{y:()=>i});var e=c(8732),f=c(74952),g=c(77020),h=a([g]);function i({task:a,onSelect:b}){return(0,e.jsxs)("div",{className:(0,g.cn)("bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",a.offline&&"border-orange-300 bg-orange-50"),onClick:()=>b(a),children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=>{switch(a){case"installation":default:return(0,e.jsx)(f.IFY,{className:"w-4 h-4"});case"maintenance":return(0,e.jsx)(f.zD7,{className:"w-4 h-4"});case"inspection":return(0,e.jsx)(f.rAV,{className:"w-4 h-4"});case"repair":return(0,e.jsx)(f.hcu,{className:"w-4 h-4"})}})(a.type),(0,e.jsx)("span",{className:(0,g.cn)("text-xs font-medium px-2 py-1 rounded-full",(a=>{switch(a){case"completed":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"pending":default:return"text-gray-600 bg-gray-100";case"failed":return"text-red-600 bg-red-100"}})(a.status)),children:a.status.replace("_"," ")})]}),(0,e.jsx)(f.c_$,{className:"w-5 h-5 text-gray-400"})]}),(0,e.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:a.title}),(0,e.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:a.customer}),(0,e.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[(0,e.jsx)(f.sDd,{className:"w-3 h-3 mr-1"}),a.address]}),(0,e.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,e.jsxs)("span",{className:"text-gray-500",children:[a.scheduledTime," (",a.estimatedDuration,")"]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[a.attachments>0&&(0,e.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,e.jsx)(f.xv8,{className:"w-3 h-3 mr-1"}),a.attachments]}),(0,e.jsx)("span",{className:(0,g.cn)("font-medium",(a=>{switch(a){case"urgent":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}})(a.priority)),children:a.priority})]})]}),a.offline&&(0,e.jsx)("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:"Offline Mode"})]})}g=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},45109:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(82341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("meta",{name:"description",content:"FibreFlow - Fiber Network Project Management"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,d.jsxs)("body",{className:"min-h-screen bg-background font-sans antialiased",children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},50802:a=>{a.exports=import("clsx")},55076:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{I:()=>j});var e=c(8732),f=c(82015),g=c(74952),h=c(77020),i=a([h]);function j({task:a,isOpen:b,onClose:c,onStatusUpdate:d}){let[i,j]=(0,f.useState)("");if(!b||!a)return null;let k=b=>{d(a.id,b),c()};return(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,e.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Task Details"}),(0,e.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-md",children:(0,e.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,e.jsxs)("div",{className:"p-6 space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),(0,e.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,e.jsx)("span",{className:(0,h.cn)("px-2 py-1 rounded-full text-xs font-medium","completed"===a.status?"bg-green-100 text-green-800":"in_progress"===a.status?"bg-blue-100 text-blue-800":"failed"===a.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:a.status.replace("_"," ")}),(0,e.jsxs)("span",{className:"capitalize",children:[a.priority," priority"]}),(0,e.jsx)("span",{children:a.estimatedDuration})]})]}),(0,e.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,e.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,e.jsx)(g.KJW,{className:"w-4 h-4 mr-2"}),"Customer Information"]}),(0,e.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"font-medium",children:"Name:"})," ",a.customer]}),(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"font-medium mr-2",children:"Address:"}),(0,e.jsx)("span",{className:"flex-1",children:a.address})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(g.sDd,{className:"w-4 h-4"}),(0,e.jsxs)("span",{children:[a.coordinates.lat.toFixed(4),", ",a.coordinates.lng.toFixed(4)]}),(0,e.jsx)("button",{className:"text-blue-600 hover:underline",children:"View on Map"})]})]})]}),(0,e.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,e.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,e.jsx)(g.iUU,{className:"w-4 h-4 mr-2"}),"Task Details"]}),(0,e.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"font-medium",children:"Type:"}),(0,e.jsx)("span",{className:"capitalize ml-2",children:a.type})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"font-medium",children:"Scheduled:"})," ",a.scheduledTime]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"font-medium",children:"Attachments:"})," ",a.attachments," files"]}),a.notes&&(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"font-medium",children:"Notes:"}),(0,e.jsx)("p",{className:"mt-1 text-gray-600",children:a.notes})]})]})]}),(0,e.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,e.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Notes"}),(0,e.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add task notes or observations..."})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[(0,e.jsx)(g.i7d,{className:"w-5 h-5 mr-2"}),"Take Photo"]}),(0,e.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[(0,e.jsx)(g.bcf,{className:"w-5 h-5 mr-2"}),"Call Customer"]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,e.jsx)("div",{className:"flex space-x-2",children:(()=>{let b=[];return"pending"===a.status&&b.push((0,e.jsxs)("button",{onClick:()=>k("in_progress"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,e.jsx)(g.zD7,{className:"w-4 h-4 mr-2"}),"Start Task"]},"start")),"in_progress"===a.status&&(b.push((0,e.jsxs)("button",{onClick:()=>k("completed"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[(0,e.jsx)(g.rAV,{className:"w-4 h-4 mr-2"}),"Mark Complete"]},"complete")),b.push((0,e.jsxs)("button",{onClick:()=>k("failed"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,e.jsx)(g.hcu,{className:"w-4 h-4 mr-2"}),"Mark Failed"]},"fail"))),b})()}),(0,e.jsx)("button",{onClick:c,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})]})})}h=(i.then?(await i)():i)[0],d()}catch(a){d(a)}})},57621:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{d:()=>i});var e=c(8732),f=c(74952),g=c(77020),h=a([g]);function i({battery:a,signal:b,gpsAccuracy:c,storage:d}){let h=a=>a>50?"text-green-600":a>20?"text-yellow-600":"text-red-600",i=a=>{switch(a){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"fair":return"text-yellow-600";case"poor":return"text-red-600";default:return"text-gray-600"}},j=d.used/d.total*100;return(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,e.jsxs)("h3",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[(0,e.jsx)(f.wO7,{className:"w-4 h-4 mr-2"}),"Device Status"]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(f.G3x,{className:(0,g.cn)("w-4 h-4 mr-2",h(a))}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"Battery"})]}),(0,e.jsxs)("span",{className:(0,g.cn)("text-sm font-semibold",h(a)),children:[a,"%"]})]}),(0,e.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,e.jsx)("div",{className:(0,g.cn)("h-2 rounded-full",a>50?"bg-green-600":a>20?"bg-yellow-600":"bg-red-600"),style:{width:`${a}%`}})})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(f.HN0,{className:(0,g.cn)("w-4 h-4 mr-2",i(b))}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"Signal"})]}),(0,e.jsx)("span",{className:(0,g.cn)("text-sm font-semibold capitalize",i(b)),children:b})]}),(0,e.jsx)("div",{className:"flex items-end space-x-1",children:[1,2,3,4].map(a=>(0,e.jsx)("div",{className:(0,g.cn)("w-2 bg-gray-200 rounded-sm",a<=(a=>{switch(a){case"excellent":return 4;case"good":return 3;case"fair":return 2;case"poor":return 1;default:return 0}})(b)?i(b).replace("text-","bg-"):""),style:{height:`${3*a+4}px`}},a))})]}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm font-medium",children:"GPS Accuracy"}),(0,e.jsxs)("span",{className:"text-sm font-semibold",children:["\xb1",c,"m"]})]})}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(f.akk,{className:"w-4 h-4 mr-2"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"Storage"})]}),(0,e.jsxs)("span",{className:"text-sm font-semibold",children:[d.used.toFixed(1)," / ",d.total,"GB"]})]}),(0,e.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,e.jsx)("div",{className:(0,g.cn)("h-2 rounded-full",j>80?"bg-red-600":j>60?"bg-yellow-600":"bg-green-600"),style:{width:`${j}%`}})})]})]})]})}g=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})},74552:a=>{a.exports=require("pino")},75979:a=>{a.exports=import("tailwind-merge")},77020:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},82015:a=>{a.exports=require("react")},84623:(a,b,c)=>{c.d(b,{a:()=>g});var d=c(8732),e=c(74952),f=c(35747);function g({title:a="Dashboard",subtitle:b="Welcome to FibreFlow",actions:c=[],onRefresh:g,onExport:h,showActions:i=!0,isRefreshing:j=!1}){let{currentUser:k}=(0,f.A)();return(0,d.jsxs)("div",{className:"ff-header",children:[(0,d.jsxs)("div",{className:"ff-header-content",children:[(0,d.jsxs)("div",{className:"ff-header-text",children:[(0,d.jsx)("h1",{className:"ff-header-title",children:a}),(0,d.jsx)("p",{className:"ff-header-subtitle",children:"Dashboard"===a?`${(()=>{let a=new Date().getHours();return a<12?"Good morning":a<17?"Good afternoon":"Good evening"})()}, ${!k?"User":k.displayName?k.displayName:k.email?k.email.split("@")[0]:"User"}. ${b}`:b})]}),c.length>0&&(0,d.jsx)("div",{className:"ff-header-actions",children:c.map((a,b)=>(0,d.jsxs)("button",{onClick:a.onClick,className:`ff-button ${"primary"===a.variant?"ff-button-primary":"ff-button-secondary"}`,children:[(0,d.jsx)(a.icon,{className:"w-4 h-4"}),a.label]},b))})]}),i&&0===c.length&&(0,d.jsxs)("div",{className:"ff-header-legacy-actions",children:[g&&(0,d.jsxs)("button",{onClick:g,className:"ff-button ff-button-secondary",disabled:j,children:[(0,d.jsx)(e.e9t,{className:`w-4 h-4 ${j?"animate-spin":""}`}),"Refresh"]}),h&&(0,d.jsxs)("button",{onClick:h,className:"ff-button ff-button-primary",children:[(0,d.jsx)(e.f5X,{className:"w-4 h-4"}),"Export Data"]}),(0,d.jsxs)("button",{className:"ff-button ff-button-secondary",children:[(0,d.jsx)(e.wB_,{className:"w-4 h-4"}),"Settings"]})]})]})}},98717:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{f:()=>i});var e=c(8732),f=c(74952),g=c(77020),h=a([g]);function i({technician:a,onSelect:b}){return(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>b(a),children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,e.jsx)(f.KJW,{className:"w-5 h-5 text-gray-600"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"font-medium text-gray-900",children:a.name}),(0,e.jsx)("span",{className:(0,g.cn)("text-xs font-medium px-2 py-1 rounded-full",(a=>{switch(a){case"active":return"text-green-600 bg-green-100";case"busy":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}})(a.status)),children:a.status})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(f.FEq,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:a.rating})]})]}),(0,e.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(f.sDd,{className:"w-4 h-4 mr-2"}),(0,e.jsxs)("span",{children:[a.location.lat.toFixed(4),", ",a.location.lng.toFixed(4)]})]}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(f.rAV,{className:"w-4 h-4 mr-2"}),(0,e.jsxs)("span",{children:[a.completedToday," tasks completed today"]})]})]}),a.currentTask&&(0,e.jsx)("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:(0,e.jsxs)("p",{className:"text-xs text-blue-800 font-medium",children:["Current Task: ",a.currentTask]})}),(0,e.jsx)("div",{className:"mt-3 flex flex-wrap gap-1",children:a.expertise.map(a=>(0,e.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:a},a))})]})}g=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[4952,2341,5781,363],()=>b(b.s=30602));module.exports=c})();