"use strict";exports.id=718,exports.ids=[718],exports.modules={2663:(a,b,c)=>{c.d(b,{Ai:()=>e,KB:()=>g,Ks:()=>f,bd:()=>d});var d=function(a){return a.POLES="poles",a.DROPS="drops",a.CABLE="cable",a.TRENCH="trench",a.OTHER="other",a.PROPOSAL="proposal",a.CONTRACT="contract",a.SOW="sow",a.TECHNICAL_SPEC="technical_spec",a.BUDGET="budget",a.SCHEDULE="schedule",a.REPORT="report",a.FIBRE="fibre",a.GENERAL="general",a.SITE_SURVEY="site_survey",a.TECHNICAL_SPECS="technical_specs",a.EQUIPMENT="equipment",a}({}),e=function(a){return a.PENDING="pending",a.APPROVED="approved",a.REJECTED="rejected",a.NEEDS_REVIEW="needs_review",a}({}),f=function(a){return a.PLANNING="planning",a.ACTIVE="active",a.ON_HOLD="on_hold",a.COMPLETED="completed",a.CANCELLED="cancelled",a}({}),g=function(a){return a.LOW="low",a.MEDIUM="medium",a.HIGH="high",a.CRITICAL="critical",a}({})},90718:(a,b,c)=>{c.r(b),c.d(b,{SOWListPage:()=>n});var d=c(8732),e=c(82015),f=c(44233),g=c(74952),h=c(2663);function i({status:a}){let b=(()=>{switch(a){case h.Ai.APPROVED:return{icon:g.rAV,className:"bg-green-100 text-green-800",label:"Approved"};case h.Ai.REJECTED:return{icon:g.RIJ,className:"bg-red-100 text-red-800",label:"Rejected"};case h.Ai.PENDING:default:return{icon:g.zD7,className:"bg-yellow-100 text-yellow-800",label:"Pending"}}})(),c=b.icon;return(0,d.jsxs)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.className}`,children:[(0,d.jsx)(c,{className:"h-4 w-4 mr-1"}),b.label]})}function j({documents:a,onView:b,onEdit:c,onDelete:e,onDownload:f}){return(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upload Date"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name}),a.version>1&&(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["Version ",a.version]})]}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"text-sm text-gray-900",children:a.projectName}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:a.projectCode})]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:a.type})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)(i,{status:a.status})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.uploadedByName}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.uploadDate).toLocaleDateString()}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("button",{onClick:()=>b(a),className:"text-indigo-600 hover:text-indigo-900",title:"View",children:(0,d.jsx)(g.kU3,{className:"h-5 w-5"})}),(0,d.jsx)("button",{onClick:()=>f(a),className:"text-green-600 hover:text-green-900",title:"Download",children:(0,d.jsx)(g.f5X,{className:"h-5 w-5"})}),(0,d.jsx)("button",{onClick:()=>c(a),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:(0,d.jsx)(g.ffu,{className:"h-5 w-5"})}),(0,d.jsx)("button",{onClick:()=>e(a),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,d.jsx)(g.TBR,{className:"h-5 w-5"})})]})})]},a.id))})]})})}function k({searchTerm:a,onSearchChange:b,typeFilter:c,onTypeFilterChange:e,statusFilter:f,onStatusFilterChange:i}){return(0,d.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search documents...",value:a,onChange:a=>b(a.target.value),className:"w-full px-4 py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500"}),(0,d.jsx)(g.vji,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),(0,d.jsxs)("select",{value:c,onChange:a=>e(a.target.value),className:"px-4 py-2 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500",children:[(0,d.jsx)("option",{value:"all",children:"All Types"}),(0,d.jsx)("option",{value:h.bd.POLES,children:"Poles"}),(0,d.jsx)("option",{value:h.bd.DROPS,children:"Drops"}),(0,d.jsx)("option",{value:h.bd.CABLE,children:"Cable"}),(0,d.jsx)("option",{value:h.bd.TRENCH,children:"Trench"}),(0,d.jsx)("option",{value:h.bd.OTHER,children:"Other"})]}),(0,d.jsxs)("select",{value:f,onChange:a=>i(a.target.value),className:"px-4 py-2 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500",children:[(0,d.jsx)("option",{value:"all",children:"All Status"}),(0,d.jsx)("option",{value:h.Ai.PENDING,children:"Pending"}),(0,d.jsx)("option",{value:h.Ai.APPROVED,children:"Approved"}),(0,d.jsx)("option",{value:h.Ai.REJECTED,children:"Rejected"})]})]})}function l({documents:a}){let b={totalDocuments:a.length,totalPoles:a.filter(a=>a.type===h.bd.POLES).reduce((a,b)=>a+(b.metadata?.poleCount||0),0),totalDrops:a.filter(a=>a.type===h.bd.DROPS).reduce((a,b)=>a+(b.metadata?.dropCount||0),0),totalCable:a.filter(a=>a.type===h.bd.CABLE).reduce((a,b)=>a+(b.metadata?.cableLength||0)/1e3,0),approvedCount:a.filter(a=>a.status===h.Ai.APPROVED).length,pendingCount:a.filter(a=>a.status===h.Ai.PENDING).length,rejectedCount:a.filter(a=>a.status===h.Ai.REJECTED).length,totalEstimatedCost:a.reduce((a,b)=>a+(b.metadata?.estimatedCost||0),0)};return(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),(0,d.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b.totalDocuments}),(0,d.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,d.jsxs)("span",{className:"text-green-600",children:[b.approvedCount," approved"]})," • ",(0,d.jsxs)("span",{className:"text-yellow-600",children:[b.pendingCount," pending"]}),b.rejectedCount>0&&(0,d.jsxs)(d.Fragment,{children:[" • ",(0,d.jsxs)("span",{className:"text-red-600",children:[b.rejectedCount," rejected"]})]})]})]}),(0,d.jsx)(g.iUU,{className:"h-12 w-12 text-blue-500"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Poles"}),(0,d.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b.totalPoles.toLocaleString()}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Across all projects"})]}),(0,d.jsx)(g.sDd,{className:"h-12 w-12 text-green-500"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Drops"}),(0,d.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b.totalDrops.toLocaleString()}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Customer connections"})]}),(0,d.jsx)(g.ww0,{className:"h-12 w-12 text-purple-500"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Value"}),(0,d.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(b.totalEstimatedCost/1e6).toFixed(1),"M"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Total project value"})]}),(0,d.jsx)(g.ntg,{className:"h-12 w-12 text-orange-500"})]})})]})}var m=c(49888);function n(){let a=(0,f.useRouter)(),[,b]=(0,e.useState)(null),{sowDocuments:c,loading:i,deleteDocument:n,downloadDocument:o}=function(){let[a,b]=(0,e.useState)([]),[c,d]=(0,e.useState)(!0);return{sowDocuments:a,loading:c,deleteDocument:async a=>{b(b=>b.filter(b=>b.id!==a))},downloadDocument:async a=>{},refreshDocuments:async()=>{try{let a=[{id:"sow1",name:"Lawrenceburg Phase 1 - Poles.xlsx",type:h.bd.POLES,fileUrl:"/files/poles.xlsx",uploadDate:"2024-01-15T10:30:00",uploadedBy:"user1",uploadedByName:"John Smith",version:1,status:h.Ai.APPROVED,projectName:"Lawrenceburg Fiber Expansion",projectCode:"LAW",metadata:{poleCount:450,estimatedCost:225e3}},{id:"sow2",name:"Lawrenceburg Phase 1 - Drops.xlsx",type:h.bd.DROPS,fileUrl:"/files/drops.xlsx",uploadDate:"2024-01-15T11:00:00",uploadedBy:"user1",uploadedByName:"John Smith",version:1,status:h.Ai.APPROVED,projectName:"Lawrenceburg Fiber Expansion",projectCode:"LAW",metadata:{dropCount:1200,estimatedCost:18e4}},{id:"sow3",name:"Anderson Network - Fiber Routes.xlsx",type:h.bd.CABLE,fileUrl:"/files/cable.xlsx",uploadDate:"2024-01-16T09:15:00",uploadedBy:"user2",uploadedByName:"Jane Doe",version:2,status:h.Ai.PENDING,projectName:"Anderson Network Upgrade",projectCode:"AND",metadata:{cableLength:45e3,estimatedCost:45e4}},{id:"sow4",name:"Greenville Expansion - Drops Phase 2.xlsx",type:h.bd.DROPS,fileUrl:"/files/drops2.xlsx",uploadDate:"2024-01-17T14:20:00",uploadedBy:"user3",uploadedByName:"Mike Johnson",version:1,status:h.Ai.PENDING,projectName:"Greenville Network Build",projectCode:"GRN",metadata:{dropCount:800,estimatedCost:12e4}},{id:"sow5",name:"Madison District - Trench Requirements.xlsx",type:h.bd.TRENCH,fileUrl:"/files/trench.xlsx",uploadDate:"2024-01-18T08:45:00",uploadedBy:"user2",uploadedByName:"Jane Doe",version:1,status:h.Ai.REJECTED,projectName:"Madison Metro Fiber",projectCode:"MAD",rejectionReason:"Missing depth specifications for underground sections",metadata:{trenchLength:15e3,estimatedCost:3e5}}];b(a),d(!1)}catch(a){m.Rm.error("Error loading SOW documents:",{data:a},"useSOWDocuments"),d(!1)}}}}(),{filteredDocuments:p,searchTerm:q,setSearchTerm:r,typeFilter:s,setTypeFilter:t,statusFilter:u,setStatusFilter:v}=function(a){let[b,c]=(0,e.useState)([]),[d,f]=(0,e.useState)(""),[g,h]=(0,e.useState)("all"),[i,j]=(0,e.useState)("all");return{filteredDocuments:b,searchTerm:d,setSearchTerm:f,typeFilter:g,setTypeFilter:h,statusFilter:i,setStatusFilter:j}}(0),w=async a=>{window.confirm(`Are you sure you want to delete ${a.name}?`)&&await n(a.id)};return i?(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,d.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(g.nmj,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"SOW Documents"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Manage Statement of Work documents"})]})]}),(0,d.jsxs)("button",{onClick:()=>a.push("/projects/sow/upload"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,d.jsx)(g._OO,{className:"h-5 w-5 mr-2"}),"Upload SOW"]})]}),(0,d.jsx)(l,{documents:c}),(0,d.jsx)(k,{searchTerm:q,onSearchChange:r,typeFilter:s,onTypeFilterChange:t,statusFilter:u,onStatusFilterChange:v}),0===p.length?(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,d.jsx)(g.nmj,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-500",children:"No SOW documents found"}),(0,d.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Try adjusting your filters or upload a new document"})]}):(0,d.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,d.jsx)(j,{documents:p,onView:a=>{b(a)},onEdit:a=>{},onDelete:w,onDownload:o})})]})}}};