"use strict";exports.id=2771,exports.ids=[2771],exports.modules={32771:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{staffService:()=>j});var e=c(23970),f=(c(70696),c(63539)),g=c(42336),h=a([e,f,g]);[e,f,g]=h.then?(await h)():h;let i=e.staffNeonService,j={getAll:i.getAll,getById:i.getById,create:i.create,createOrUpdate:e.staffNeonService.createOrUpdate,update:i.update,delete:i.delete,getActiveStaff:i.getActiveStaff,getProjectManagers:e.staffNeonService.getProjectManagers,getStaffSummary:i.getStaffSummary,getProjectAssignments:async()=>Promise.resolve([]),assignToProject:async()=>Promise.resolve({success:!0}),updateStaffProjectCount:async()=>Promise.resolve({success:!0}),importFromCSV:f.r.importFromCSV,importFromExcel:f.r.importFromExcel,getImportTemplate:f.r.getImportTemplate||(()=>"Name,Email,Phone,Employee ID,Position,Department"),exportToExcel:g.A.exportToExcel,import:f.r,export:g.A};d()}catch(a){d(a)}})},42336:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>i});var e=c(15751),f=c(23970),g=c(58326),h=a([f]);f=(h.then?(await h)():h)[0];let i={async exportToExcel(a){let b=(a||await f.staffNeonService.getAll()).map(a=>({"Employee ID":a.employeeId,Name:a.name,Email:a.email,Phone:a.phone,"Alternative Phone":a.alternativePhone||"",Position:a.position,Department:a.department,Level:a.level,Status:a.status,Manager:a.managerName||"",Skills:a.skills.join(", "),"Experience Years":a.experienceYears,Address:a.address,City:a.city,Province:a.province,"Postal Code":a.postalCode,"Emergency Contact Name":a.emergencyContactName||"","Emergency Contact Phone":a.emergencyContactPhone||"","Start Date":a.startDate?(0,g.xi)(a.startDate).toLocaleDateString("en-GB"):"","Contract Type":a.contractType,"Working Hours":a.workingHours,"Available Weekends":a.availableWeekends?"Yes":"No","Available Nights":a.availableNights?"Yes":"No","Current Projects":a.currentProjectCount,"Max Projects":a.maxProjectCount,"Projects Completed":a.totalProjectsCompleted,"Average Rating":a.averageProjectRating,"On-Time Completion Rate":`${a.onTimeCompletionRate}%`})),c=e.utils.json_to_sheet(b),d=e.utils.book_new();e.utils.book_append_sheet(d,c,"Staff"),c["!cols"]=[{wch:15},{wch:25},{wch:30},{wch:15},{wch:15},{wch:20},{wch:15},{wch:12},{wch:10},{wch:25},{wch:40},{wch:10},{wch:30},{wch:15},{wch:12},{wch:10},{wch:25},{wch:15},{wch:12},{wch:12},{wch:15},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15}];let h=e.write(d,{bookType:"xlsx",type:"array"});return new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})},getImportTemplate(){let a=e.utils.json_to_sheet([{name:"John Doe",email:"john.doe@example.com",phone:"0821234567",alternativePhone:"0119876543",employeeId:"EMP001",position:"Senior Technician",department:"engineering",level:"senior",status:"active",skills:"fiber_splicing,otdr_testing,troubleshooting",address:"123 Main Street",city:"Johannesburg",province:"Gauteng",postalCode:"2000",emergencyContactName:"Jane Doe",emergencyContactPhone:"0829876543",startDate:"01/01/2023",endDate:"",contractType:"permanent",workingHours:"08:00 - 17:00"}]),b=e.utils.book_new();e.utils.book_append_sheet(b,a,"Staff Import Template");let c=e.utils.json_to_sheet([{Field:"name",Required:"Yes",Description:"Full name of the staff member"},{Field:"email",Required:"Yes",Description:"Email address (must be unique)"},{Field:"phone",Required:"Yes",Description:"Primary phone number"},{Field:"alternativePhone",Required:"No",Description:"Alternative contact number"},{Field:"employeeId",Required:"No",Description:"Employee ID (auto-generated if empty)"},{Field:"position",Required:"No",Description:"Job title or position"},{Field:"department",Required:"No",Description:"Department: management, engineering, installation, maintenance, sales, operations, etc."},{Field:"level",Required:"No",Description:"Level: intern, junior, intermediate, senior, lead, manager, etc."},{Field:"status",Required:"No",Description:"Status: active, inactive, on_leave, suspended, terminated"},{Field:"skills",Required:"No",Description:"Comma-separated skills: fiber_splicing, otdr_testing, cable_installation, etc."},{Field:"address",Required:"No",Description:"Street address"},{Field:"city",Required:"No",Description:"City"},{Field:"province",Required:"No",Description:"Province"},{Field:"postalCode",Required:"No",Description:"Postal code"},{Field:"emergencyContactName",Required:"No",Description:"Emergency contact person name"},{Field:"emergencyContactPhone",Required:"No",Description:"Emergency contact phone number"},{Field:"startDate",Required:"No",Description:"Employment start date (DD/MM/YYYY)"},{Field:"endDate",Required:"No",Description:"Employment end date (DD/MM/YYYY) - leave empty for active employees"},{Field:"contractType",Required:"No",Description:"Contract type: permanent, contract, temporary, freelance, intern"},{Field:"workingHours",Required:"No",Description:"Working hours (e.g., 08:00 - 17:00)"}]);e.utils.book_append_sheet(b,c,"Instructions");let d=e.write(b,{bookType:"xlsx",type:"array"});return new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}};d()}catch(a){d(a)}})},70696:(a,b,c)=>{c.d(b,{m:()=>h});let d="/api";async function e(a){if(!a.ok)throw Error((await a.json().catch(()=>({message:"Request failed"}))).message||`HTTP ${a.status}`);let b=await a.json();return b.data||b}function f(a){return{id:a.id,employeeId:a.employee_id,name:a.name,email:a.email,phone:a.phone,alternatePhone:a.alternate_phone,address:a.address,city:a.city,state:a.state,postalCode:a.postal_code,department:a.department,position:a.position,type:a.type,status:a.status,salary:a.salary,joinDate:a.join_date,startDate:a.join_date,endDate:a.end_date,emergencyContact:a.emergency_contact,skills:a.skills,certifications:a.certifications,notes:a.notes,reportsTo:a.reports_to,currentProjectCount:a.project_count||0,maxProjectCount:5,managerName:a.manager_name,createdAt:a.created_at,updatedAt:a.updated_at}}function g(a){return{id:a.id,employee_id:a.employeeId,name:a.name,email:a.email,phone:a.phone,alternate_phone:a.alternatePhone,address:a.address,city:a.city,state:a.state,postal_code:a.postalCode,department:a.department,position:a.position,type:a.type,status:a.status,salary:a.salary,join_date:a.joinDate||a.startDate,end_date:a.endDate,emergency_contact:a.emergencyContact,skills:a.skills,certifications:a.certifications,notes:a.notes,reports_to:a.reportsTo}}let h={async getAll(a){let b=new URLSearchParams;a&&((a.search||a.searchTerm)&&b.append("search",a.search||a.searchTerm),a.department&&b.append("department",a.department),a.status&&b.append("status",a.status),a.position&&b.append("position",a.position));let c=b.toString()?`?${b.toString()}`:"",g=await fetch(`${d}/staff${c}`);return(await e(g)).map(f)},async getById(a){let b=await fetch(`${d}/staff?id=${a}`),c=await e(b);return c?f(c):null},async create(a){let b=g(a),c=await fetch(`${d}/staff`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});return f(await e(c))},async update(a,b){let c=g(b),h=await fetch(`${d}/staff?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});return f(await e(h))},delete:async a=>e(await fetch(`${d}/staff?id=${a}`,{method:"DELETE"})),async getActiveStaff(){return(await this.getAll()).filter(a=>"active"===a.status)},async getStaffByDepartment(a){return(await this.getAll()).filter(b=>b.department===a)},async getStaffSummary(){let a=await this.getAll(),b=[...new Set(a.map(a=>a.department).filter(Boolean))],c=a.filter(a=>"active"===a.status&&a.salary).map(a=>a.salary||0);return{totalStaff:a.length,activeStaff:a.filter(a=>"active"===a.status).length,departments:b,averageSalary:c.length>0?c.reduce((a,b)=>a+b,0)/c.length:0}}}}};