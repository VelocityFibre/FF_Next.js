"use strict";exports.id=6587,exports.ids=[6587],exports.modules={36644:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{kt:()=>h});var e=c(8732),f=c(77020),g=a([f]);f=(g.then?(await g)():g)[0];let i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},j={primary:"text-primary-600",secondary:"text-[var(--ff-text-secondary)]",white:"text-white",success:"text-success-600",warning:"text-warning-600",error:"text-error-600"};function h({size:a="md",variant:b="primary",className:c="",label:d="Loading..."}){return(0,e.jsx)("div",{className:(0,f.cn)("flex items-center justify-center",c),children:(0,e.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,e.jsxs)("svg",{className:(0,f.cn)("animate-spin",i[a],j[b]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":d,children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d&&"sm"!==a&&(0,e.jsx)("span",{className:"text-sm text-[var(--ff-text-secondary)]",children:d}),(0,e.jsx)("span",{className:"sr-only",children:d})]})})}d()}catch(a){d(a)}})},44905:(a,b,c)=>{c.d(b,{w:()=>f});var d=c(8732),e=c(74952);function f(){let a=new Date().getFullYear();return(0,d.jsxs)("footer",{className:"bg-[var(--ff-surface-primary)] border-t border-[var(--ff-border-primary)] py-3 px-4 lg:px-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center text-sm text-[var(--ff-text-tertiary)]",children:(0,d.jsxs)("span",{children:["\xa9 ",a," FibreFlow. All rights reserved."]})}),(0,d.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 text-xs text-[var(--ff-text-tertiary)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,d.jsx)("span",{children:"System Online"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(e.ekZ,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"Secure Connection"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(e.KqI,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"React v18.3+"})]})]}),(0,d.jsx)("div",{className:"flex items-center text-sm text-[var(--ff-text-tertiary)]",children:(0,d.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,d.jsx)("span",{children:"Migrated to React with"}),(0,d.jsx)(e.B1N,{className:"w-3 h-3 text-error-500 fill-current"}),(0,d.jsx)("span",{children:"by VF Team"})]})})]}),(0,d.jsxs)("div",{className:"lg:hidden flex justify-center items-center space-x-4 text-xs text-[var(--ff-text-tertiary)] mt-2 pt-2 border-t border-[var(--ff-border-subtle)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,d.jsx)("span",{children:"Online"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(e.ekZ,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"Secure"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(e.KqI,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"React"})]})]})]})}},45109:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(82341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("meta",{name:"description",content:"FibreFlow - Fiber Network Project Management"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,d.jsxs)("body",{className:"min-h-screen bg-background font-sans antialiased",children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},50168:(a,b,c)=>{c.d(b,{B:()=>A});var d=c(8732),e=c(35747),f=c(57902),g=c(74952);let h={section:"MAIN",items:[{to:"/dashboard",icon:g.HxJ,label:"Dashboard",shortLabel:"Dash",permissions:[]},{to:"/meetings",icon:g.zWC,label:"Meetings",shortLabel:"Meet",permissions:[]},{to:"/action-items",icon:g.rAV,label:"Action Items",shortLabel:"Actions",permissions:[]}]},i={section:"PROJECT MANAGEMENT",items:[{to:"/projects",icon:g.BmN,label:"Projects",shortLabel:"Proj",permissions:[]},{to:"/pole-capture",icon:g.i7d,label:"Pole Capture",shortLabel:"Poles",permissions:[]},{to:"/fiber-stringing",icon:g.A8q,label:"Fiber Stringing",shortLabel:"Fiber",permissions:[]},{to:"/drops",icon:g.aZc,label:"Drops Management",shortLabel:"Drops",permissions:[]},{to:"/sow-management",icon:g.TCk,label:"SOW Management",shortLabel:"SOW",permissions:[]},{to:"/installations",icon:g.ww0,label:"Home Installations",shortLabel:"Install",permissions:[]},{to:"/tasks",icon:g.rAV,label:"Task Management",shortLabel:"Tasks",permissions:[]},{to:"/daily-progress",icon:g.VH9,label:"Daily Progress",shortLabel:"Daily",permissions:[]}]},j={section:"PEOPLE & MANAGEMENT",items:[{to:"/clients",icon:g.zWC,label:"Clients",shortLabel:"Clients",permissions:[]},{to:"/staff",icon:g.zWC,label:"Staff",shortLabel:"Staff",permissions:[]}]},k={section:"PROCUREMENT",items:[{to:"/procurement",icon:g.JBW,label:"Procurement Portal",shortLabel:"Procure",permissions:[]},{to:"/suppliers",icon:g.eMd,label:"Suppliers Portal",shortLabel:"Supply",permissions:[]}]},l={section:"CONTRACTORS",items:[{to:"/contractors",icon:g.ZHz,label:"Contractors Portal",shortLabel:"Contract",permissions:[]}]},m={section:"ANALYTICS",items:[{to:"/analytics",icon:g.Ilq,label:"Analytics Dashboard",shortLabel:"Analytics",permissions:[]},{to:"/enhanced-kpis",icon:g.ntg,label:"Enhanced KPIs",shortLabel:"KPIs",permissions:[]},{to:"/kpi-dashboard",icon:g.VH9,label:"KPI Dashboard",shortLabel:"KPI Dash",permissions:[]},{to:"/reports",icon:g.iUU,label:"Reports",shortLabel:"Reports",permissions:[]}]},n={section:"COMMUNICATIONS",items:[{to:"/communications",icon:g.vEG,label:"Communications Portal",shortLabel:"Comms",permissions:[]},{to:"/meetings",icon:g.zWC,label:"Meetings",shortLabel:"Meet",permissions:[]},{to:"/action-items",icon:g.rAV,label:"Action Items",shortLabel:"Actions",permissions:[]}]},o=[h,i,j,k,l,m,n,{section:"FIELD OPERATIONS",items:[{to:"/field",icon:g.wO7,label:"Field App Portal",shortLabel:"Field",permissions:[]},{to:"/onemap",icon:g.sDd,label:"OneMap Data Grid",shortLabel:"OneMap",permissions:[]},{to:"/nokia-equipment",icon:g.IFY,label:"Nokia Equipment",shortLabel:"Nokia",permissions:[]}]},{section:"SYSTEM",items:[{to:"/settings",icon:g.wB_,label:"Settings",shortLabel:"Settings",permissions:[]}]}];var p=c(82015);let q=({className:a="",size:b="large"})=>{let[c,e]=(0,p.useState)(null);(0,p.useEffect)(()=>{let a=localStorage.getItem("vf-custom-logo");a&&e(a)},[]);let f={small:"w-10 h-10",medium:"w-16 h-16",large:"w-44 h-44"}[b];return(0,d.jsx)("div",{className:`flex items-center justify-center ${a}`,children:(0,d.jsxs)("div",{className:`rounded-xl shadow-sm ${{small:"p-2",medium:"p-3",large:"p-4"}[b]}`,style:{backgroundColor:"var(--ff-surface-primary)"},children:[c?(0,d.jsx)("img",{src:c,alt:"Logo",className:`${f} object-contain flex-shrink-0`}):(0,d.jsx)("img",{src:"/assets/vf/vf-logo.svg",alt:"Logo",className:`${f} object-contain flex-shrink-0`,onError:a=>{a.currentTarget.style.display="none";let b=a.currentTarget.parentElement?.querySelector(".fallback-logo");b&&b.classList.remove("hidden")}}),(0,d.jsx)("div",{className:`hidden fallback-logo ${f} rounded-lg flex items-center justify-center flex-shrink-0`,style:{background:"linear-gradient(135deg, var(--ff-primary-500) 0%, var(--ff-accent-500) 50%, var(--ff-accent-600) 100%)"},children:(0,d.jsx)("span",{className:"font-bold text-2xl",style:{color:"var(--ff-text-inverse)"},children:"VF"})})]})})},r=a=>a?.displayName?a.displayName.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):a?.email?a.email.slice(0,2).toUpperCase():"U",s=a=>a?.displayName||a?.email||"User",t=a=>{let b=a?.role;return b?.replace("_"," ").toUpperCase()||"USER"};function u({isCollapsed:a,currentUser:b,sidebarStyles:c,themeConfig:e}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:`py-6 px-4 border-b mb-4 ${a?"px-2":""}`,style:{borderColor:c.borderColor},children:(0,d.jsx)("div",{className:"flex items-center justify-center",children:(0,d.jsx)(q,{size:a?"medium":"large",className:"mx-auto"})})}),(0,d.jsx)("div",{className:`p-4 border-b mb-4 ${a?"px-2":""}`,style:{borderColor:c.borderColor},children:a?(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 relative group cursor-pointer",style:{backgroundColor:"var(--ff-primary-500)"},title:`${s(b)} - ${t(b)}`,children:[(0,d.jsx)("span",{className:"font-semibold text-sm",style:{color:"var(--ff-text-inverse)"},children:r(b)}),(0,d.jsxs)("div",{className:"absolute left-full ml-2 px-3 py-2 text-sm rounded-md shadow-lg border opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",style:{backgroundColor:e.colors.surface.elevated,color:e.colors.text.primary,borderColor:e.colors.border.primary},children:[(0,d.jsx)("div",{className:"font-medium",children:s(b)}),(0,d.jsx)("div",{className:"text-xs opacity-75",children:t(b)})]})]})}):(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--ff-primary-500)"},children:(0,d.jsx)("span",{className:"font-semibold text-sm",style:{color:"var(--ff-text-inverse)"},children:r(b)})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"font-medium text-sm truncate",style:{color:c.textColor},children:s(b)}),(0,d.jsx)("div",{className:"text-xs truncate",style:{color:c.textColorTertiary},children:t(b)})]})]})})]})}var v=c(19918),w=c.n(v),x=c(44233);function y({visibleNavItems:a,isCollapsed:b,sidebarStyles:c,themeConfig:e}){let f=(0,x.useRouter)();return(0,d.jsx)(d.Fragment,{children:a.map((a,g)=>(0,d.jsxs)("div",{className:`${b?"px-2":"px-4"} mb-6`,children:[!b&&(0,d.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 px-2",style:{color:c.textColorTertiary},children:a.section}),(0,d.jsx)("div",{className:"space-y-1",children:a.items.map(a=>{let g=f.pathname===a.to;return(0,d.jsxs)(w(),{href:a.to,className:`flex items-center rounded-lg transition-all duration-200 relative group ${b?"px-3 py-3 justify-center":"px-3 py-2 space-x-3"}`,style:{backgroundColor:g?e.colors.primary[500]:"transparent",color:g?"#ffffff":c.textColorSecondary},title:b?a.label:void 0,onMouseEnter:a=>{let b=a.currentTarget;g||(b.style.backgroundColor=e.colors.surface.sidebarSecondary||e.colors.surface.secondary,b.style.color=c.textColor)},onMouseLeave:a=>{let b=a.currentTarget;g||(b.style.backgroundColor="transparent",b.style.color=c.textColorSecondary)},children:[(0,d.jsx)(a.icon,{className:"w-5 h-5 flex-shrink-0"}),!b&&(0,d.jsx)("span",{className:"text-sm font-medium truncate",children:a.label}),b&&(0,d.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 text-sm rounded-md shadow-lg border opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",style:{backgroundColor:e.colors.surface.elevated,color:e.colors.text.primary,borderColor:e.colors.border.primary},children:a.label})]},a.to)})})]},g))})}function z({isCollapsed:a,onCollapse:b,sidebarStyles:c,themeConfig:e}){return(0,d.jsx)("div",{className:`border-t p-2 flex-shrink-0 ${a?"flex justify-center":""}`,style:{borderColor:c.borderColor},children:(0,d.jsx)("button",{onClick:b,className:`
          flex items-center justify-center p-2 rounded-lg 
          transition-colors duration-200
          ${a?"w-10 h-10":"w-full"}
        `,style:{color:c.textColorSecondary},onMouseEnter:a=>{a.currentTarget.style.color=c.textColor,a.currentTarget.style.backgroundColor=e.colors.surface.sidebarSecondary||e.colors.surface.secondary},onMouseLeave:a=>{a.currentTarget.style.color=c.textColorSecondary,a.currentTarget.style.backgroundColor="transparent"},title:a?"Expand sidebar":"Collapse sidebar",children:a?(0,d.jsx)(g.c_$,{className:"w-4 h-4"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.JGc,{className:"w-4 h-4 mr-2"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Collapse"})]})})})}function A({isOpen:a,isCollapsed:b,onCollapse:c}){let{currentUser:g,hasPermission:h}=(0,e.A)(),{themeConfig:i}=(0,f.DP)(),j=o.map(a=>({...a,items:a.items.filter(a=>0===a.permissions.length||a.permissions.some(a=>h(a)))})).filter(a=>a.items.length>0),k="vf"===i.name?{backgroundColor:i.colors.surface.sidebar||i.colors.surface.primary,borderColor:i.colors.border.sidebar||i.colors.border.primary,textColor:i.colors.text.sidebarPrimary||i.colors.text.primary,textColorSecondary:i.colors.text.sidebarSecondary||i.colors.text.secondary,textColorTertiary:i.colors.text.sidebarTertiary||i.colors.text.tertiary}:{backgroundColor:i.colors.surface.primary,borderColor:i.colors.border.primary,textColor:i.colors.text.primary,textColorSecondary:i.colors.text.secondary,textColorTertiary:i.colors.text.tertiary};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("aside",{className:`
          fixed left-0 top-0 h-full shadow-lg transition-all duration-300 z-30 flex flex-col
          ${a?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 
          ${b?"lg:w-16":"lg:w-64"}
          ${b?"w-16":"w-64"}
        `,style:{backgroundColor:k.backgroundColor,borderRight:`1px solid ${k.borderColor}`},children:(0,d.jsxs)("div",{className:"flex flex-col h-full",children:[(0,d.jsxs)("nav",{className:"flex-1 overflow-y-auto py-4 custom-scrollbar",children:[(0,d.jsx)(u,{isCollapsed:b,currentUser:g,sidebarStyles:k,themeConfig:i}),(0,d.jsx)(y,{visibleNavItems:j,isCollapsed:b,sidebarStyles:k,themeConfig:i})]}),(0,d.jsx)(z,{isCollapsed:b,onCollapse:c,sidebarStyles:k,themeConfig:i})]})})})}},66795:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{e:()=>n});var e=c(8732),f=c(82015),g=c(44233),h=c(35747),i=c(50168),j=c(70421),k=c(44905),l=c(36644),m=a([l]);function n({children:a}){let[b,c]=(0,f.useState)(!1),[d,m]=(0,f.useState)(()=>!1),n=(0,g.useRouter)(),{currentUser:o,loading:p}=(0,h.A)();if(p)return(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[var(--ff-background-primary)]",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(l.kt,{size:"lg",className:"mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-[var(--ff-text-secondary)]",children:"Loading application..."})]})});let q=(()=>{let a=n.pathname,b=a.split("/").filter(Boolean);return a.includes("dashboard")?{title:"Dashboard",breadcrumbs:["Home","Dashboard"]}:a.includes("projects")?b.includes("create")?{title:"Create Project",breadcrumbs:["Home","Projects","Create"]}:b.length>2?{title:"Project Details",breadcrumbs:["Home","Projects","Details"]}:{title:"Projects",breadcrumbs:["Home","Projects"]}:a.includes("pole-tracker")?{title:"Pole Tracker",breadcrumbs:["Home","Project Management","Pole Tracker"]}:a.includes("clients")?b.includes("create")||b.includes("new")?{title:"Add Client",breadcrumbs:["Home","Clients","Add"]}:b.length>2?{title:"Client Details",breadcrumbs:["Home","Clients","Details"]}:{title:"Clients",breadcrumbs:["Home","Clients"]}:a.includes("staff")?b.includes("create")||b.includes("new")?{title:"Add Staff Member",breadcrumbs:["Home","Staff","Add"]}:b.includes("import")?{title:"Import Staff",breadcrumbs:["Home","Staff","Import"]}:b.includes("settings")?{title:"Staff Settings",breadcrumbs:["Home","Staff","Settings"]}:b.length>2?{title:"Staff Details",breadcrumbs:["Home","Staff","Details"]}:{title:"Staff Management",breadcrumbs:["Home","Staff"]}:a.includes("procurement")?{title:"Procurement",breadcrumbs:["Home","Procurement"]}:a.includes("suppliers")?{title:"Suppliers",breadcrumbs:["Home","Suppliers"]}:a.includes("contractors")?{title:"Contractors",breadcrumbs:["Home","Contractors"]}:a.includes("communications")||a.includes("meetings")?{title:"Communications",breadcrumbs:["Home","Communications"]}:a.includes("analytics")||a.includes("reports")?{title:"Analytics & Reports",breadcrumbs:["Home","Analytics"]}:a.includes("daily-progress")?{title:"Daily Progress",breadcrumbs:["Home","Analytics","Daily Progress"]}:a.includes("field")?{title:"Field App",breadcrumbs:["Home","Field App"]}:a.includes("settings")?{title:"Settings",breadcrumbs:["Home","Settings"]}:a.includes("action-items")?{title:"Action Items",breadcrumbs:["Home","Communications","Action Items"]}:a.includes("sow")?{title:"SOW Management",breadcrumbs:["Home","Project Management","SOW"]}:{title:"FibreFlow",breadcrumbs:["Home"]}})();return(0,e.jsxs)("div",{className:"flex h-screen bg-[var(--ff-background-secondary)] overflow-hidden",children:[(0,e.jsx)(i.B,{isOpen:b,isCollapsed:d,onToggle:()=>c(!b),onCollapse:()=>m(!d)}),b&&(0,e.jsx)("div",{className:"fixed inset-0 z-20 bg-[var(--ff-surface-overlay)] lg:hidden",onClick:()=>c(!1)}),(0,e.jsxs)("div",{className:`
        flex-1 flex flex-col min-w-0 transition-all duration-300
        ${d?"lg:ml-16":"lg:ml-64"}
      `,children:[(0,e.jsx)(j.Y,{title:q.title,breadcrumbs:q.breadcrumbs||["Home"],actions:q.actions,onMenuClick:()=>c(!0),user:o}),(0,e.jsx)("main",{className:"flex-1 overflow-y-auto bg-[var(--ff-background-primary)]",children:(0,e.jsx)("div",{className:"min-h-full",children:a})}),(0,e.jsx)(k.w,{})]})]})}l=(m.then?(await m)():m)[0],d()}catch(a){d(a)}})},70421:(a,b,c)=>{c.d(b,{Y:()=>s});var d=c(8732),e=c(74952),f=c(82015),g=c(57902),h=c(39486);let i={light:e.bd5,dark:e.AX$,vf:e.esB,fibreflow:e.esB,velocity:e.KqI};function j({variant:a="dropdown",showLabel:b=!0,className:c=""}){let{currentTheme:j,availableThemes:k,setTheme:l,toggleTheme:m,resetToSystemTheme:n,isSystemTheme:o}=(0,g.DP)(),[p,q]=(0,f.useState)(!1);if("button"===a){let a="dark"===j?e.bd5:e.AX$;return(0,d.jsxs)("button",{onClick:m,className:`
          inline-flex items-center justify-center p-2 
          rounded-lg border border-[var(--ff-border-primary)]
          bg-[var(--ff-surface-primary)] text-[var(--ff-text-primary)]
          hover:bg-[var(--ff-surface-secondary)]
          focus:outline-none focus:ring-2 focus:ring-[var(--ff-border-focus)]
          transition-colors duration-200
          ${c}
        `,title:`Switch to ${"dark"===j?"light":"dark"} theme`,children:[(0,d.jsx)(a,{className:"h-5 w-5"}),b&&(0,d.jsx)("span",{className:"ml-2 text-sm font-medium",children:"dark"===j?"Light":"Dark"})]})}if("compact"===a){let a=i[j];return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>q(!p),className:`
            inline-flex items-center justify-center p-2 
            rounded-lg text-[var(--ff-text-secondary)]
            hover:text-[var(--ff-text-primary)]
            hover:bg-[var(--ff-surface-secondary)]
            transition-colors duration-200
            ${c}
          `,title:`Current theme: ${(0,h.JY)(j)}`,children:(0,d.jsx)(a,{className:"h-5 w-5"})}),p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>q(!1)}),(0,d.jsxs)("div",{className:"absolute right-0 top-full mt-2 z-20 w-48 py-2 bg-[var(--ff-surface-elevated)] border border-[var(--ff-border-primary)] rounded-lg shadow-lg",children:[(0,d.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-[var(--ff-text-tertiary)] uppercase tracking-wide",children:"Select Theme"}),k.map(a=>{let b=i[a],c=j===a;return(0,d.jsxs)("button",{onClick:()=>{l(a),q(!1)},className:`
                      w-full px-3 py-2 text-left flex items-center
                      hover:bg-[var(--ff-surface-secondary)]
                      ${c?"bg-[var(--ff-surface-secondary)]":""}
                    `,children:[(0,d.jsx)(b,{className:"h-4 w-4 mr-3 text-[var(--ff-text-tertiary)]"}),(0,d.jsx)("span",{className:"text-sm text-[var(--ff-text-primary)]",children:(0,h.JY)(a)}),c&&(0,d.jsx)(e.Jlk,{className:"h-4 w-4 ml-auto text-[var(--ff-text-accent)]"})]},a)}),(0,d.jsx)("hr",{className:"my-2 border-[var(--ff-border-secondary)]"}),(0,d.jsxs)("button",{onClick:()=>{n(),q(!1)},className:"w-full px-3 py-2 text-left flex items-center hover:bg-[var(--ff-surface-secondary)]",children:[(0,d.jsx)(e.VAG,{className:"h-4 w-4 mr-3 text-[var(--ff-text-tertiary)]"}),(0,d.jsx)("span",{className:"text-sm text-[var(--ff-text-primary)]",children:"System"}),o&&(0,d.jsx)(e.Jlk,{className:"h-4 w-4 ml-auto text-[var(--ff-text-accent)]"})]})]})]})]})}let r=i[j];return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>q(!p),className:`
          inline-flex items-center px-3 py-2 
          rounded-lg border border-[var(--ff-border-primary)]
          bg-[var(--ff-surface-primary)] text-[var(--ff-text-primary)]
          hover:bg-[var(--ff-surface-secondary)]
          focus:outline-none focus:ring-2 focus:ring-[var(--ff-border-focus)]
          transition-colors duration-200
          ${c}
        `,children:[(0,d.jsx)(r,{className:"h-4 w-4"}),b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"ml-2 text-sm font-medium",children:o?"System":(0,h.JY)(j)}),(0,d.jsx)(e.yQN,{className:"ml-2 h-4 w-4"})]})]}),p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>q(!1)}),(0,d.jsxs)("div",{className:"absolute right-0 top-full mt-2 z-20 w-64 py-2 bg-[var(--ff-surface-elevated)] border border-[var(--ff-border-primary)] rounded-lg shadow-lg",children:[(0,d.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-[var(--ff-text-tertiary)] uppercase tracking-wide",children:"Select Theme"}),k.map(a=>{let b=i[a],c=j===a&&!o;return(0,d.jsxs)("button",{onClick:()=>{l(a),q(!1)},className:`
                    w-full px-3 py-2 text-left flex items-start
                    hover:bg-[var(--ff-surface-secondary)]
                    ${c?"bg-[var(--ff-surface-secondary)]":""}
                  `,children:[(0,d.jsx)(b,{className:"h-4 w-4 mt-0.5 mr-3 text-[var(--ff-text-tertiary)]"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:(0,h.JY)(a)}),(0,d.jsx)("div",{className:"text-xs text-[var(--ff-text-tertiary)]",children:(0,h.G5)(a)})]}),c&&(0,d.jsx)(e.Jlk,{className:"h-4 w-4 mt-0.5 text-[var(--ff-text-accent)]"})]},a)}),(0,d.jsx)("hr",{className:"my-2 border-[var(--ff-border-secondary)]"}),(0,d.jsxs)("button",{onClick:()=>{n(),q(!1)},className:`
                w-full px-3 py-2 text-left flex items-start
                hover:bg-[var(--ff-surface-secondary)]
                ${o?"bg-[var(--ff-surface-secondary)]":""}
              `,children:[(0,d.jsx)(e.VAG,{className:"h-4 w-4 mt-0.5 mr-3 text-[var(--ff-text-tertiary)]"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:"System"}),(0,d.jsx)("div",{className:"text-xs text-[var(--ff-text-tertiary)]",children:"Use your system's theme preference"})]}),o&&(0,d.jsx)(e.Jlk,{className:"h-4 w-4 mt-0.5 text-[var(--ff-text-accent)]"})]})]})]})]})}var k=c(19918),l=c.n(k);function m({breadcrumbs:a,title:b,onMenuClick:c}){return(0,d.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,d.jsx)("button",{onClick:c,className:"p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg lg:hidden mr-2",children:(0,d.jsx)(e.W1t,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"flex flex-col min-w-0",children:[a&&a.length>1&&(0,d.jsx)("nav",{className:"flex items-center space-x-1 text-sm text-[var(--ff-text-tertiary)] mb-1",children:a.map((b,c)=>{let f=c===a.length-1;return(0,d.jsxs)("div",{className:"flex items-center",children:[c>0&&(0,d.jsx)(e.c_$,{className:"h-3 w-3 mx-1"}),f?(0,d.jsx)("span",{className:"text-[var(--ff-text-primary)] font-medium",children:b}):(0,d.jsx)(l(),{href:(a=>{switch(a.toLowerCase()){case"home":case"dashboard":return"/app/dashboard";case"projects":return"/app/projects";case"clients":return"/app/clients";case"staff":case"staff management":return"/app/staff";case"procurement":return"/app/procurement";case"suppliers":return"/app/suppliers";case"contractors":return"/app/contractors";case"communications":return"/app/communications";case"analytics":return"/app/analytics";case"settings":return"/app/settings";case"field app":return"/app/field";case"daily progress":return"/app/daily-progress";default:return"#"}})(b),className:"hover:text-[var(--ff-text-primary)] transition-colors",children:b})]},c)})}),(0,d.jsx)("h1",{className:"text-xl lg:text-2xl font-semibold text-[var(--ff-text-primary)] truncate",children:b})]})]})}function n({searchQuery:a,onSearchChange:b}){return(0,d.jsxs)("div",{className:"relative hidden md:block",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search projects, clients...",value:a,onChange:a=>b(a.target.value),className:"pl-10 pr-4 py-2 w-64 border border-[var(--ff-border-primary)] rounded-lg bg-[var(--ff-background-primary)] text-[var(--ff-text-primary)] placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-border-focus focus:border-transparent"}),(0,d.jsx)(e.vji,{className:"absolute left-3 top-2.5 h-4 w-4 text-[var(--ff-text-tertiary)]"})]})}function o({notifications:a,showNotifications:b,onToggleNotifications:c,notificationRef:f}){let g=a.filter(a=>a.unread).length;return(0,d.jsxs)("div",{className:"relative",ref:f,children:[(0,d.jsxs)("button",{onClick:c,className:"relative p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",title:"Notifications",children:[(0,d.jsx)(e.IrQ,{className:"h-4 w-4"}),g>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-error-500 text-white text-xs rounded-full flex items-center justify-center",children:g})]}),b&&(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-[var(--ff-surface-elevated)] rounded-lg shadow-xl border border-[var(--ff-border-primary)] py-2 z-50",children:[(0,d.jsx)("div",{className:"px-4 py-2 border-b border-[var(--ff-border-secondary)]",children:(0,d.jsx)("h3",{className:"font-medium text-[var(--ff-text-primary)]",children:"Notifications"})}),(0,d.jsx)("div",{className:"max-h-64 overflow-y-auto",children:a.map(a=>(0,d.jsxs)("div",{className:`px-4 py-3 border-l-4 hover:bg-[var(--ff-surface-secondary)] ${a.unread?"border-l-primary-500 bg-primary-50":"border-l-transparent"}`,children:[(0,d.jsx)("p",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:a.title}),(0,d.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)] mt-1",children:a.time})]},a.id))}),(0,d.jsx)("div",{className:"px-4 py-2 border-t border-[var(--ff-border-secondary)]",children:(0,d.jsx)(l(),{href:"/app/notifications",className:"text-sm text-primary-600 hover:text-primary-700",children:"View all notifications"})})]})]})}var p=c(44233),q=c(35747);function r({user:a,showUserMenu:b,onToggleUserMenu:c,userMenuRef:f,onLogout:g}){let h=(0,p.useRouter)(),{currentUser:i}=(0,q.A)(),j=()=>{let b=a||i;return b?.displayName||b?.email||"User"},k=()=>{let b=a||i;return b?.role?.replace("_"," ").toUpperCase()||"USER"},l=a=>{h.push(a),c()};return(0,d.jsxs)("div",{className:"relative",ref:f,children:[(0,d.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 p-2 hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm font-semibold",children:(()=>{let b=a||i;return b?.displayName?b.displayName.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):b?.email?b.email.slice(0,2).toUpperCase():"U"})()})}),(0,d.jsxs)("div",{className:"hidden lg:block text-left",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:j()}),(0,d.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)]",children:k()})]})]}),b&&(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-[var(--ff-surface-elevated)] rounded-lg shadow-xl border border-[var(--ff-border-primary)] py-2 z-50",children:[(0,d.jsxs)("div",{className:"px-4 py-3 border-b border-[var(--ff-border-secondary)]",children:[(0,d.jsx)("p",{className:"font-medium text-[var(--ff-text-primary)]",children:j()}),(0,d.jsx)("p",{className:"text-sm text-[var(--ff-text-tertiary)]",children:(a||i)?.email}),(0,d.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary-100 text-primary-800 mt-2",children:[(0,d.jsx)(e.ekZ,{className:"h-3 w-3 mr-1"}),k()]})]}),(0,d.jsxs)("div",{className:"py-1",children:[(0,d.jsxs)("button",{onClick:()=>l("/app/profile"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,d.jsx)(e.KJW,{className:"h-4 w-4 mr-3"}),"My Profile"]}),(0,d.jsxs)("button",{onClick:()=>l("/app/settings"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,d.jsx)(e.wB_,{className:"h-4 w-4 mr-3"}),"Settings"]}),(0,d.jsxs)("button",{onClick:()=>l("/app/help"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,d.jsx)(e.mNh,{className:"h-4 w-4 mr-3"}),"Help & Support"]})]}),(0,d.jsx)("hr",{className:"my-1 border-[var(--ff-border-secondary)]"}),(0,d.jsxs)("button",{onClick:g,className:"flex items-center px-4 py-2 text-sm text-error-600 hover:bg-error-50 w-full text-left",children:[(0,d.jsx)(e.nUv,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})}function s({title:a="Dashboard",breadcrumbs:b=["Home"],actions:c,showSearch:g=!0,onMenuClick:h,user:i}){let[k,l]=(0,f.useState)(!1),[p,q]=(0,f.useState)(!1),[s,t]=(0,f.useState)(""),[u]=(0,f.useState)([{id:1,title:"New project assigned",time:"5 min ago",unread:!0},{id:2,title:"Staff member added",time:"1 hour ago",unread:!0},{id:3,title:"Report generated",time:"2 hours ago",unread:!1}]),v=(0,f.useRef)(null),w=(0,f.useRef)(null),x=async()=>{};return(0,d.jsx)("header",{className:"bg-[var(--ff-surface-primary)] border-b border-[var(--ff-border-primary)] shadow-sm",children:(0,d.jsx)("div",{className:"px-4 lg:px-6 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(m,{breadcrumbs:b,title:a,...h&&{onMenuClick:h}}),c&&(0,d.jsx)("div",{className:"hidden lg:flex items-center space-x-2 mx-4",children:c}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[g&&(0,d.jsx)(n,{searchQuery:s,onSearchChange:t}),(0,d.jsx)(j,{variant:"compact",showLabel:!1}),(0,d.jsx)("button",{className:"p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",title:"Sync data",children:(0,d.jsx)(e.e9t,{className:"h-4 w-4"})}),(0,d.jsx)(o,{notifications:u,showNotifications:p,onToggleNotifications:()=>q(!p),notificationRef:w}),(0,d.jsx)(r,{...i&&{user:i},showUserMenu:k,onToggleUserMenu:()=>l(!k),userMenuRef:v,onLogout:x})]})]})})})}},77020:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(50802),f=c(75979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})}};