"use strict";exports.id=7722,exports.ids=[7722],exports.modules={9728:(a,b,c)=>{c.d(b,{o:()=>f});var d=c(8732),e=c(74952);function f(){return(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(e.zD7,{className:"w-12 h-12 text-[var(--ff-text-tertiary)] mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-[var(--ff-text-secondary)]",children:"No recent activity"}),(0,d.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)] mt-1",children:"Activity tracking will appear here when available"})]})}},10407:(a,b,c)=>{c.d(b,{v:()=>f});var d=c(8732),e=c(74952);function f({showAll:a,hasMore:b,onViewAll:c}){return(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(e.zD7,{className:"w-5 h-5 text-primary-600"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-[var(--ff-text-primary)]",children:"Recent Activity"})]}),!a&&b&&c&&(0,d.jsxs)("button",{onClick:c,className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center space-x-1",children:[(0,d.jsx)("span",{children:"View All"}),(0,d.jsx)(e.Qpb,{className:"w-3 h-3"})]})]})}},13349:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Z:()=>l});var e=c(8732),f=c(44233),g=c(74952),h=c(35747),i=c(59156),j=c(77020),k=a([j]);j=(k.then?(await k)():k)[0];let m=[{id:"create-project",title:"New Project",description:"Start a new fibre installation project",icon:g.JU8,route:"/app/projects/create",requiredPermissions:[i.aX.PROJECTS_CREATE],variant:"primary"},{id:"add-staff",title:"Add Staff",description:"Register new team member",icon:g.ypN,route:"/app/staff/new",requiredPermissions:[i.aX.STAFF_CREATE],variant:"secondary"},{id:"create-sow",title:"Upload SOW",description:"Upload Statement of Work document",icon:g.iUU,route:"/app/sow/upload",requiredPermissions:[i.aX.MANAGE_SOW],variant:"secondary"},{id:"schedule-meeting",title:"Schedule Meeting",description:"Plan team or client meeting",icon:g.VvS,route:"/app/communications/meetings/create",requiredPermissions:[i.aX.CREATE_COMMUNICATIONS],variant:"secondary"},{id:"report-issue",title:"Report Issue",description:"Log project issue or concern",icon:g.RIJ,route:"/app/issues/create",requiredPermissions:[i.aX.CREATE_COMMUNICATIONS],variant:"warning"},{id:"track-poles",title:"Pole Tracker",description:"View and update pole installations",icon:g.sDd,route:"/app/pole-tracker",requiredPermissions:[i.aX.PROJECTS_READ],variant:"secondary"},{id:"manage-inventory",title:"Inventory",description:"Check stock and materials",icon:g.lPX,route:"/app/procurement",requiredPermissions:[i.aX.VIEW_PROCUREMENT],variant:"secondary"},{id:"view-analytics",title:"Analytics",description:"View project performance metrics",icon:g.VH9,route:"/app/analytics",requiredPermissions:[i.aX.ANALYTICS_READ],variant:"secondary"}],n={primary:{card:"bg-primary-50 border-primary-200 hover:bg-primary-100",icon:"bg-primary-500 text-white",title:"text-primary-900",description:"text-primary-700"},secondary:{card:"bg-[var(--ff-surface-primary)] border-[var(--ff-border-primary)] hover:bg-[var(--ff-surface-secondary)]",icon:"bg-neutral-100 text-neutral-700",title:"text-[var(--ff-text-primary)]",description:"text-[var(--ff-text-secondary)]"},success:{card:"bg-success-50 border-success-200 hover:bg-success-100",icon:"bg-success-500 text-white",title:"text-success-900",description:"text-success-700"},warning:{card:"bg-warning-50 border-warning-200 hover:bg-warning-100",icon:"bg-warning-500 text-white",title:"text-warning-900",description:"text-warning-700"}};function l({className:a=""}){let b=(0,f.useRouter)(),{hasPermission:c}=(0,h.A)(),d=m.filter(a=>0===a.requiredPermissions.length||a.requiredPermissions.some(a=>c(a)));return(0,e.jsxs)("div",{className:(0,j.cn)("bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",a),children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,e.jsx)(g.FWt,{className:"w-5 h-5 text-primary-600"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-[var(--ff-text-primary)]",children:"Quick Actions"})]}),(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(a=>{let c=a.icon,d=n[a.variant||"secondary"];return(0,e.jsx)("button",{onClick:()=>{b.push(a.route)},className:(0,j.cn)("p-4 rounded-lg border transition-all duration-200 text-left group","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",d.card),children:(0,e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,e.jsx)("div",{className:(0,j.cn)("w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0","group-hover:scale-110 transition-transform duration-200",d.icon),children:(0,e.jsx)(c,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h4",{className:(0,j.cn)("font-medium text-sm mb-1 group-hover:translate-x-1 transition-transform duration-200",d.title),children:a.title}),(0,e.jsx)("p",{className:(0,j.cn)("text-xs leading-relaxed",d.description),children:a.description})]})]})},a.id)})}),0===d.length&&(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(g.FWt,{className:"w-12 h-12 text-[var(--ff-text-tertiary)] mx-auto mb-3"}),(0,e.jsx)("p",{className:"text-[var(--ff-text-secondary)]",children:"No quick actions available"}),(0,e.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)] mt-1",children:"Contact your administrator for access permissions"})]})]})}d()}catch(a){d(a)}})},33790:(a,b,c)=>{c.d(b,{S:()=>f});var d=c(49888);let e="/api",f={async getAllProjects(a){try{let b=`${e}/projects`,c=new URLSearchParams;a&&(a.status&&c.append("status",a.status),a.clientId&&c.append("clientId",a.clientId)),c.toString()&&(b+=`?${c.toString()}`);let d=await fetch(b);if(!d.ok)throw Error(`Failed to fetch projects: ${d.status}`);return(await d.json()).data||[]}catch(a){throw d.Rm.error("Error fetching projects:",{error:a},"projectApi"),a}},async getProjectById(a){try{let b=await fetch(`${e}/projects?id=${a}`);if(!b.ok)throw Error(`Failed to fetch project: ${b.status}`);return(await b.json()).data||null}catch(b){throw d.Rm.error("Error fetching project by ID:",{error:b,id:a},"projectApi"),b}},async getProjectsByClient(a){try{let b=await fetch(`${e}/projects?clientId=${a}`);if(!b.ok)throw Error(`Failed to fetch projects by client: ${b.status}`);return(await b.json()).data||[]}catch(b){return d.Rm.error("Error fetching projects by client:",{error:b,clientId:a},"projectApi"),[]}},async getProjectsByStatus(a){try{let b=await fetch(`${e}/projects?status=${a}`);if(!b.ok)throw Error(`Failed to fetch projects by status: ${b.status}`);return(await b.json()).data||[]}catch(b){return d.Rm.error("Error fetching projects by status:",{error:b,status:a},"projectApi"),[]}},async searchProjects(a){try{let b=await fetch(`${e}/projects?search=${encodeURIComponent(a)}`);if(!b.ok)throw Error(`Failed to search projects: ${b.status}`);return(await b.json()).data||[]}catch(b){return d.Rm.error("Error searching projects:",{error:b,searchTerm:a},"projectApi"),[]}},async getActiveProjects(){try{let a=await fetch(`${e}/projects`);if(!a.ok)throw Error(`Failed to fetch active projects: ${a.status}`);return((await a.json()).data||[]).map(a=>({...a,id:a.id,name:a.project_name||a.name,code:a.project_code||a.code,clientId:a.client_id||a.clientId,clientName:a.client_name||a.clientName,projectType:a.project_type||a.projectType,startDate:a.start_date||a.startDate,endDate:a.end_date||a.endDate,projectManager:a.project_manager||a.projectManager,description:a.description,status:a.status})).filter(a=>!["completed","archived","cancelled","on_hold"].includes(a.status?.toLowerCase()||""))}catch(a){return d.Rm.error("Error fetching active projects:",{error:a},"projectApi"),[]}},async createProject(a){try{let b=await fetch(`${e}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_code:a.code,project_name:a.name,client_id:a.clientId,description:a.description,project_type:a.projectType,status:a.status||"PLANNING",priority:a.priority||"MEDIUM",start_date:a.startDate,end_date:a.endDate,budget:a.budget,project_manager:a.projectManagerId,location:a.location})});if(!b.ok)throw Error(`Failed to create project: ${b.status}`);let c=await b.json();return c.data?.id||""}catch(b){throw d.Rm.error("Error creating project:",{error:b,data:a},"projectApi"),b}},async updateProject(a,b){try{let c=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_name:b.name,project_code:b.code,client_id:b.clientId,description:b.description,project_type:b.projectType,status:b.status,priority:b.priority,start_date:b.startDate,end_date:b.endDate,budget:b.budget,project_manager:b.projectManagerId,location:b.location})});if(!c.ok)throw Error(`Failed to update project: ${c.status}`)}catch(c){throw d.Rm.error("Error updating project:",{error:c,id:a,data:b},"projectApi"),c}},async deleteProject(a){try{let b=await fetch(`${e}/projects?id=${a}`,{method:"DELETE"});if(!b.ok)throw Error(`Failed to delete project: ${b.status}`)}catch(b){throw d.Rm.error("Error deleting project:",{error:b,id:a},"projectApi"),b}},async updateProjectStatus(a,b){try{let c=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})});if(!c.ok)throw Error(`Failed to update project status: ${c.status}`)}catch(c){throw d.Rm.error("Error updating project status:",{error:c,id:a,status:b},"projectApi"),c}},async updateProjectProgress(a,b){try{let c=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({progress:b})});if(!c.ok)throw Error(`Failed to update project progress: ${c.status}`)}catch(c){throw d.Rm.error("Error updating project progress:",{error:c,id:a,progress:b},"projectApi"),c}},async updateProjectBudget(a,b){try{let c=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({budget:b})});if(!c.ok)throw Error(`Failed to update project budget: ${c.status}`)}catch(c){throw d.Rm.error("Error updating project budget:",{error:c,id:a,budget:b},"projectApi"),c}},async assignProjectToClient(a,b){try{let c=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:b})});if(!c.ok)throw Error(`Failed to assign project to client: ${c.status}`)}catch(c){throw d.Rm.error("Error assigning project to client:",{error:c,projectId:a,clientId:b},"projectApi"),c}},async updateProjectDates(a,b,c){try{let d=await fetch(`${e}/projects?id=${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:b,end_date:c})});if(!d.ok)throw Error(`Failed to update project dates: ${d.status}`)}catch(e){throw d.Rm.error("Error updating project dates:",{error:e,id:a,startDate:b,endDate:c},"projectApi"),e}}}},36034:(a,b,c)=>{c.d(b,{E:()=>d});function d(a){let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/6e4);if(c<1)return"Just now";if(c<60)return`${c}m ago`;let d=Math.floor(c/60);if(d<24)return`${d}h ago`;let e=Math.floor(d/24);return e<7?`${e}d ago`:b.toLocaleDateString()}},54309:(a,b,c)=>{c.d(b,{Q:()=>e});var d=c(74952);let e={task_completed:{icon:d.rAV,color:"text-success-600",bgColor:"bg-success-100"},project_updated:{icon:d.iUU,color:"text-info-600",bgColor:"bg-info-100"},staff_assigned:{icon:d.zWC,color:"text-primary-600",bgColor:"bg-primary-100"},issue_reported:{icon:d.RIJ,color:"text-warning-600",bgColor:"bg-warning-100"},milestone_reached:{icon:d.VvS,color:"text-accent-600",bgColor:"bg-accent-100"}}},54659:(a,b,c)=>{c.d(b,{F:()=>e});var d=c(33790);class e{static async getAllProjects(a){return d.S.getAllProjects(a)}static async getProjectById(a){return d.S.getProjectById(a)}static async getProjectsByClient(a){return d.S.getProjectsByClient(a)}static async getProjectsByStatus(a){return d.S.getProjectsByStatus(a)}static async searchProjects(a){return d.S.searchProjects(a)}static async getActiveProjects(){return d.S.getActiveProjects()}static async getProjectsPaginated(a=10,b=0,c){let e=await d.S.getAllProjects(c);return{projects:e.slice(b,b+a),total:e.length}}}},62017:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{X4:()=>h.X,jL:()=>f.j,o6:()=>g.o,vr:()=>e.v}),c(54309),c(71993);var e=c(10407),f=c(81787),g=c(9728),h=c(97669),i=a([f,h]);[f,h]=i.then?(await i)():i,d()}catch(a){d(a)}})},67722:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{Dashboard:()=>p});var e=c(8732),f=c(74952),g=c(87773),h=c(69509),i=c(13349),j=c(25269),k=c(38268),l=c(48053),m=c(35747),n=c(59156),o=a([g,h,i,j]);function p(){let{currentUser:a,hasPermission:b}=(0,m.A)(),{stats:c,trends:d,formatNumber:o,formatCurrency:p,formatPercentage:q}=(0,k.ni)(),r=(0,l.Pj)(c,d,{formatNumber:o,formatCurrency:p,formatPercentage:q}),s=[{title:"Active Projects",value:c.activeProjects,icon:f.BmN,description:"Total projects data not available",trend:d?.activeProjects?{value:d.activeProjects.percentage,isPositive:"up"===d.activeProjects.direction,label:"vs last month"}:{value:0,isPositive:!0,label:"no trend data"},variant:"primary",requiredPermissions:[n.aX.PROJECTS_READ]},{title:"Team Members",value:c.teamMembers,icon:f.zWC,description:"Active staff members",trend:d?.teamMembers?{value:d.teamMembers.percentage,isPositive:"up"===d.teamMembers.direction,label:"change this month"}:{value:0,isPositive:!0,label:"no trend data"},variant:"success",requiredPermissions:[n.aX.STAFF_READ]},{title:"Tasks Completed",value:c.completedTasks,icon:f.rAV,description:c.completedTasks>0?"From all projects":"No tasks tracked yet",trend:d?.completedTasks?{value:d.completedTasks.percentage,isPositive:"up"===d.completedTasks.direction,label:"vs last week"}:{value:0,isPositive:!0,label:"no trend data"},variant:"success",requiredPermissions:[n.aX.PROJECTS_READ]},{title:"Open Issues",value:c.openIssues,icon:f.hcu,description:0===c.openIssues?"No issues found":"Issues tracked",trend:d?.openIssues?{value:d.openIssues.percentage,isPositive:"down"===d.openIssues.direction,label:"requires attention"}:{value:0,isPositive:!0,label:"no trend data"},variant:c.openIssues>0?"warning":"success",requiredPermissions:[n.aX.VIEW_COMMUNICATIONS]},{title:"Poles Installed",value:c.polesInstalled,icon:f.sDd,description:0===c.polesInstalled?"No installations tracked":"Infrastructure deployed",trend:d?.polesInstalled?{value:d.polesInstalled.percentage,isPositive:"up"===d.polesInstalled.direction,label:"infrastructure growth"}:{value:0,isPositive:!0,label:"no trend data"},variant:"primary",requiredPermissions:[n.aX.PROJECTS_READ]}].filter(a=>0===a.requiredPermissions.length||a.requiredPermissions.some(a=>b(a)));return(0,e.jsxs)("div",{className:"space-y-6 p-6",children:[(0,e.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold mb-2",children:(()=>{let b=new Date().getHours(),c=a?.displayName?.split(" ")[0]||"there";return b<12?`Good morning, ${c}`:b<17?`Good afternoon, ${c}`:`Good evening, ${c}`})()}),(0,e.jsx)("p",{className:"text-primary-100",children:"Welcome to your FibreFlow dashboard. Here's what's happening with your projects."})]}),(0,e.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 text-right",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm text-primary-200",children:"Today"}),(0,e.jsx)("div",{className:"font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,e.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:(0,e.jsx)(f.VvS,{className:"w-6 h-6"})})]})]})}),(0,e.jsx)(j.M,{cards:r.filter(a=>a.route?.includes("/projects")?b(n.aX.PROJECTS_READ):a.route?.includes("/staff")?b(n.aX.STAFF_READ):a.route?.includes("/tasks")?b(n.aX.PROJECTS_READ):a.route?.includes("/issues")?b(n.aX.VIEW_COMMUNICATIONS):!a.route?.includes("/analytics")||b(n.aX.ANALYTICS_READ)),columns:3,className:"mb-6"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b(n.aX.PROJECTS_READ)&&(0,e.jsx)("div",{className:"lg:col-span-2",children:(0,e.jsx)(g.t,{})}),(0,e.jsx)("div",{className:b(n.aX.PROJECTS_READ)?"":"lg:col-span-3",children:(0,e.jsx)(i.Z,{})})]}),b(n.aX.VIEW_COMMUNICATIONS)&&(0,e.jsx)("div",{className:"grid grid-cols-1",children:(0,e.jsx)(h.r,{})}),b(n.aX.ANALYTICS_READ)&&(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,e.jsx)(f.ntg,{className:"w-5 h-5 text-primary-600"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-[var(--ff-text-primary)]",children:"Performance Metrics"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-secondary)] rounded-lg p-4",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-success-600",children:c.qualityScore>0?q(c.qualityScore):"0%"}),(0,e.jsx)("div",{className:"text-sm text-[var(--ff-text-secondary)]",children:"Quality Score"})]}),(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-secondary)] rounded-lg p-4",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:c.onTimeDelivery>0?q(c.onTimeDelivery):"0%"}),(0,e.jsx)("div",{className:"text-sm text-[var(--ff-text-secondary)]",children:"On-Time Delivery"})]}),(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-secondary)] rounded-lg p-4",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-warning-600",children:c.performanceScore>0?q(c.performanceScore):"0%"}),(0,e.jsx)("div",{className:"text-sm text-[var(--ff-text-secondary)]",children:"Performance Score"})]}),(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-secondary)] rounded-lg p-4",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-info-600",children:c.totalRevenue>0?p(c.totalRevenue):"R0"}),(0,e.jsx)("div",{className:"text-sm text-[var(--ff-text-secondary)]",children:"Total Revenue"})]})]})]}),0===s.length&&(0,e.jsxs)("div",{className:"bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-12 text-center",children:[(0,e.jsx)("div",{className:"w-16 h-16 bg-[var(--ff-surface-secondary)] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,e.jsx)(f.ntg,{className:"w-8 h-8 text-[var(--ff-text-tertiary)]"})}),(0,e.jsx)("h3",{className:"text-lg font-medium text-[var(--ff-text-primary)] mb-2",children:"Welcome to FibreFlow"}),(0,e.jsx)("p",{className:"text-[var(--ff-text-secondary)] mb-4",children:"Your dashboard will display relevant information once you have access to project data."}),(0,e.jsx)("p",{className:"text-sm text-[var(--ff-text-tertiary)]",children:"Contact your administrator to request additional permissions."})]})]})}[g,h,i,j]=o.then?(await o)():o,d()}catch(a){d(a)}})},69509:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{r:()=>i});var e=c(8732),f=c(77020),g=c(62017),h=a([f,g]);function i({activities:a=[],isLoading:b=!1,showAll:c=!1,className:d=""}){let h=c?a:a.slice(0,5);return b?(0,e.jsx)(g.jL,{className:d}):(0,e.jsxs)("div",{className:(0,f.cn)("bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",d),children:[(0,e.jsx)(g.vr,{showAll:c,hasMore:a.length>5}),(0,e.jsx)("div",{className:"space-y-4",children:h.map((a,b)=>(0,e.jsx)(g.X4,{activity:a,isLast:b===h.length-1},a.id))}),0===h.length&&(0,e.jsx)(g.o6,{})]})}[f,g]=h.then?(await h)():h,d()}catch(a){d(a)}})},71993:(a,b,c)=>{},81787:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{j:()=>h});var e=c(8732),f=c(77020),g=a([f]);function h({className:a}){return(0,e.jsx)("div",{className:(0,f.cn)("bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",a),children:(0,e.jsxs)("div",{className:"animate-pulse",children:[(0,e.jsx)("div",{className:"h-4 bg-[var(--ff-surface-secondary)] rounded w-1/3 mb-4"}),(0,e.jsx)("div",{className:"space-y-4",children:[1,2,3,4].map(a=>(0,e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,e.jsx)("div",{className:"w-8 h-8 bg-[var(--ff-surface-secondary)] rounded-full"}),(0,e.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,e.jsx)("div",{className:"h-4 bg-[var(--ff-surface-secondary)] rounded w-3/4"}),(0,e.jsx)("div",{className:"h-3 bg-[var(--ff-surface-secondary)] rounded w-1/2"})]})]},a))})]})})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},87773:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{t:()=>j});var e=c(8732),f=c(82015),g=c(74952),h=c(77020);c(54659),c(49888);var i=a([h]);h=(i.then?(await i)():i)[0];let k={planning:{label:"Planning",color:"bg-info-100 text-info-800 border-info-200",dot:"bg-info-500"},active:{label:"Active",color:"bg-success-100 text-success-800 border-success-200",dot:"bg-success-500"},on_hold:{label:"On Hold",color:"bg-warning-100 text-warning-800 border-warning-200",dot:"bg-warning-500"},completed:{label:"Completed",color:"bg-neutral-100 text-neutral-800 border-neutral-200",dot:"bg-neutral-500"},cancelled:{label:"Cancelled",color:"bg-error-100 text-error-800 border-error-200",dot:"bg-error-500"}},l={low:{color:"text-success-600",bg:"bg-success-100"},medium:{color:"text-warning-600",bg:"bg-warning-100"},high:{color:"text-error-600",bg:"bg-error-100"},critical:{color:"text-error-700",bg:"bg-error-200"}};function j({projects:a,isLoading:b=!1,className:c=""}){let[d,i]=(0,f.useState)("all"),[j,m]=(0,f.useState)(a||[]),[n,o]=(0,f.useState)(b),p=j.filter(a=>"all"===d||a.status===d),q=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"});return n?(0,e.jsx)("div",{className:(0,h.cn)("bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",c),children:(0,e.jsxs)("div",{className:"animate-pulse",children:[(0,e.jsx)("div",{className:"h-4 bg-[var(--ff-surface-secondary)] rounded w-1/3 mb-4"}),(0,e.jsx)("div",{className:"space-y-3",children:[1,2,3].map(a=>(0,e.jsx)("div",{className:"h-20 bg-[var(--ff-surface-secondary)] rounded"},a))})]})}):(0,e.jsxs)("div",{className:(0,h.cn)("bg-[var(--ff-surface-primary)] rounded-lg border border-[var(--ff-border-primary)] p-6",c),children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(g.BmN,{className:"w-5 h-5 text-primary-600"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-[var(--ff-text-primary)]",children:"Active Projects"})]}),(0,e.jsx)("div",{className:"flex space-x-1 bg-[var(--ff-surface-secondary)] rounded-lg p-1",children:[{key:"all",label:"All"},{key:"active",label:"Active"},{key:"planning",label:"Planning"}].map(a=>(0,e.jsx)("button",{onClick:()=>i(a.key),className:(0,h.cn)("px-3 py-1 text-sm font-medium rounded-md transition-colors",d===a.key?"bg-[var(--ff-surface-primary)] text-[var(--ff-text-primary)] shadow-sm":"text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)]"),children:a.label},a.key))})]}),(0,e.jsx)("div",{className:"space-y-4",children:p.map(a=>{let b=k[a.status]||k.planning,c=l[a.priority]||l.low,d=(a=>{let b=new Date(a),c=new Date,d=b.getTime()-c.getTime();return Math.ceil(d/864e5)})(a.endDate);return(0,e.jsxs)("div",{className:"border border-[var(--ff-border-secondary)] rounded-lg p-4 hover:border-[var(--ff-border-primary)] transition-colors cursor-pointer",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h4",{className:"font-medium text-[var(--ff-text-primary)] truncate",children:a.name}),(0,e.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-[var(--ff-text-tertiary)]",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(g.sDd,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:a.location})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(g.zWC,{className:"w-3 h-3"}),(0,e.jsxs)("span",{children:[a.teamSize," members"]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(g.VvS,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:q(a.endDate)})]})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:["high"===a.priority||"critical"===a.priority?(0,e.jsx)("div",{className:(0,h.cn)("p-1 rounded",c.bg),children:(0,e.jsx)(g.hcu,{className:(0,h.cn)("w-3 h-3",c.color)})}):null,(0,e.jsxs)("span",{className:(0,h.cn)("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border",b.color),children:[(0,e.jsx)("div",{className:(0,h.cn)("w-1.5 h-1.5 rounded-full mr-1",b.dot)}),b.label]})]})]}),(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,e.jsxs)("span",{className:"text-[var(--ff-text-secondary)]",children:["Progress: ",a.tasksCompleted,"/",a.totalTasks," tasks"]}),(0,e.jsxs)("span",{className:"font-medium text-[var(--ff-text-primary)]",children:[a.progress,"%"]})]}),(0,e.jsx)("div",{className:"w-full bg-[var(--ff-surface-secondary)] rounded-full h-2",children:(0,e.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),(0,e.jsxs)("div",{className:"flex items-center justify-between text-xs text-[var(--ff-text-tertiary)] mt-2",children:[(0,e.jsxs)("span",{children:["Started ",q(a.startDate)]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(g.zD7,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:d>0?`${d} days remaining`:0===d?"Due today":`${Math.abs(d)} days overdue`})]})]})]})]},a.id)})}),0===p.length&&(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(g.BmN,{className:"w-12 h-12 text-[var(--ff-text-tertiary)] mx-auto mb-3"}),(0,e.jsx)("p",{className:"text-[var(--ff-text-secondary)]",children:0===j.length?"No projects found in database":`No ${d} projects found`}),(0,e.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)] mt-1",children:0===j.length?"Projects will appear here when added to the system":"Try selecting a different filter"})]})]})}d()}catch(a){d(a)}})},97669:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{X:()=>k});var e=c(8732),f=c(74952),g=c(77020),h=c(54309),i=c(36034),j=a([g]);function k({activity:a,isLast:b}){let c=h.Q[a.type],d=c.icon;return(0,e.jsxs)("div",{className:"relative",children:[!b&&(0,e.jsx)("div",{className:"absolute left-4 top-10 w-0.5 h-12 bg-border-secondary"}),(0,e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,e.jsx)("div",{className:(0,g.cn)("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",c.bgColor),children:(0,e.jsx)(d,{className:(0,g.cn)("w-4 h-4",c.color)})}),(0,e.jsx)("div",{className:"flex-1 min-w-0",children:(0,e.jsxs)("div",{className:"flex items-start justify-between",children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,e.jsx)("span",{className:"font-medium text-[var(--ff-text-primary)] text-sm",children:a.user.name}),(0,e.jsxs)("span",{className:"text-xs text-[var(--ff-text-tertiary)]",children:["(",a.user.role,")"]})]}),(0,e.jsx)("p",{className:"text-sm text-[var(--ff-text-secondary)] mb-2",children:a.description}),a.project&&(0,e.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,e.jsx)(f.iUU,{className:"w-3 h-3 text-[var(--ff-text-tertiary)]"}),(0,e.jsx)("span",{className:"text-xs text-primary-600 hover:text-primary-700 cursor-pointer",children:a.project})]}),a.metadata&&(0,e.jsxs)("div",{className:"flex items-center space-x-3 text-xs text-[var(--ff-text-tertiary)]",children:[a.metadata.location&&(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(f.sDd,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:a.metadata.location})]}),a.metadata.progress&&(0,e.jsx)("div",{className:"flex items-center space-x-1",children:(0,e.jsxs)("span",{children:[a.metadata.progress,"% complete"]})}),a.metadata.priority&&(0,e.jsx)("span",{className:(0,g.cn)("px-1.5 py-0.5 rounded text-xs font-medium","critical"===a.metadata.priority?"bg-error-100 text-error-700":"high"===a.metadata.priority?"bg-warning-100 text-warning-700":"bg-info-100 text-info-700"),children:a.metadata.priority.toUpperCase()})]})]}),(0,e.jsx)("div",{className:"text-xs text-[var(--ff-text-tertiary)] ml-4",children:(0,i.E)(a.timestamp)})]})})]})]})}g=(j.then?(await j)():j)[0],d()}catch(a){d(a)}})}};