(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9302],{17734:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},18024:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},18935:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]])},21271:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},28364:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},30155:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},30359:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},30449:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},35537:(e,t,s)=>{"use strict";s.d(t,{Ai:()=>l,KB:()=>n,Ks:()=>r,bd:()=>a});var a=function(e){return e.POLES="poles",e.DROPS="drops",e.CABLE="cable",e.TRENCH="trench",e.OTHER="other",e.PROPOSAL="proposal",e.CONTRACT="contract",e.SOW="sow",e.TECHNICAL_SPEC="technical_spec",e.BUDGET="budget",e.SCHEDULE="schedule",e.REPORT="report",e.FIBRE="fibre",e.GENERAL="general",e.SITE_SURVEY="site_survey",e.TECHNICAL_SPECS="technical_specs",e.EQUIPMENT="equipment",e}({}),l=function(e){return e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e.NEEDS_REVIEW="needs_review",e}({}),r=function(e){return e.PLANNING="planning",e.ACTIVE="active",e.ON_HOLD="on_hold",e.COMPLETED="completed",e.CANCELLED="cancelled",e}({}),n=function(e){return e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e}({})},36535:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},46618:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},50843:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},58875:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},59302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{SOWListPage:()=>E});var a=s(37876),l=s(14232),r=s(89099),n=s(18935),i=s(30155),d=s(30359),o=s(46618),c=s(58875),x=s(36535),u=s(30449),p=s(21271),m=s(18024),h=s(35537);function y(e){let{status:t}=e,s=(()=>{switch(t){case h.Ai.APPROVED:return{icon:u.A,className:"bg-green-100 text-green-800",label:"Approved"};case h.Ai.REJECTED:return{icon:p.A,className:"bg-red-100 text-red-800",label:"Rejected"};case h.Ai.PENDING:default:return{icon:m.A,className:"bg-yellow-100 text-yellow-800",label:"Pending"}}})(),l=s.icon;return(0,a.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(s.className),children:[(0,a.jsx)(l,{className:"h-4 w-4 mr-1"}),s.label]})}function j(e){let{documents:t,onView:s,onEdit:l,onDelete:r,onDownload:n}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upload Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.version>1&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Version ",e.version]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.projectName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.projectCode})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.type})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(y,{status:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.uploadedByName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.uploadDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>s(e),className:"text-indigo-600 hover:text-indigo-900",title:"View",children:(0,a.jsx)(d.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>n(e),className:"text-green-600 hover:text-green-900",title:"Download",children:(0,a.jsx)(o.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>l(e),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:(0,a.jsx)(c.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>r(e),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,a.jsx)(x.A,{className:"h-5 w-5"})})]})})]},e.id))})]})})}var g=s(17734);function N(e){let{searchTerm:t,onSearchChange:s,typeFilter:l,onTypeFilterChange:r,statusFilter:n,onStatusFilterChange:i}=e;return(0,a.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search documents...",value:t,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500"}),(0,a.jsx)(g.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),(0,a.jsxs)("select",{value:l,onChange:e=>r(e.target.value),className:"px-4 py-2 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:h.bd.POLES,children:"Poles"}),(0,a.jsx)("option",{value:h.bd.DROPS,children:"Drops"}),(0,a.jsx)("option",{value:h.bd.CABLE,children:"Cable"}),(0,a.jsx)("option",{value:h.bd.TRENCH,children:"Trench"}),(0,a.jsx)("option",{value:h.bd.OTHER,children:"Other"})]}),(0,a.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:"px-4 py-2 text-gray-700 bg-white border rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:h.Ai.PENDING,children:"Pending"}),(0,a.jsx)("option",{value:h.Ai.APPROVED,children:"Approved"}),(0,a.jsx)("option",{value:h.Ai.REJECTED,children:"Rejected"})]})]})}var v=s(28364),w=s(79890),f=s(30409),b=s(50843);function A(e){let{documents:t}=e,s={totalDocuments:t.length,totalPoles:t.filter(e=>e.type===h.bd.POLES).reduce((e,t)=>{var s;return e+((null==(s=t.metadata)?void 0:s.poleCount)||0)},0),totalDrops:t.filter(e=>e.type===h.bd.DROPS).reduce((e,t)=>{var s;return e+((null==(s=t.metadata)?void 0:s.dropCount)||0)},0),totalCable:t.filter(e=>e.type===h.bd.CABLE).reduce((e,t)=>{var s;return e+((null==(s=t.metadata)?void 0:s.cableLength)||0)/1e3},0),approvedCount:t.filter(e=>e.status===h.Ai.APPROVED).length,pendingCount:t.filter(e=>e.status===h.Ai.PENDING).length,rejectedCount:t.filter(e=>e.status===h.Ai.REJECTED).length,totalEstimatedCost:t.reduce((e,t)=>{var s;return e+((null==(s=t.metadata)?void 0:s.estimatedCost)||0)},0)};return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.totalDocuments}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"text-green-600",children:[s.approvedCount," approved"]})," • ",(0,a.jsxs)("span",{className:"text-yellow-600",children:[s.pendingCount," pending"]}),s.rejectedCount>0&&(0,a.jsxs)(a.Fragment,{children:[" • ",(0,a.jsxs)("span",{className:"text-red-600",children:[s.rejectedCount," rejected"]})]})]})]}),(0,a.jsx)(v.A,{className:"h-12 w-12 text-blue-500"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Poles"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.totalPoles.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Across all projects"})]}),(0,a.jsx)(w.A,{className:"h-12 w-12 text-green-500"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Drops"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.totalDrops.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Customer connections"})]}),(0,a.jsx)(f.A,{className:"h-12 w-12 text-purple-500"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Value"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.totalEstimatedCost/1e6).toFixed(1),"M"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Total project value"})]}),(0,a.jsx)(b.A,{className:"h-12 w-12 text-orange-500"})]})})]})}var C=s(16932);function E(){let e=(0,r.useRouter)(),[,t]=(0,l.useState)(null),{sowDocuments:s,loading:d,deleteDocument:o,downloadDocument:c}=function(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(!0),r=async()=>{try{let e=[{id:"sow1",name:"Lawrenceburg Phase 1 - Poles.xlsx",type:h.bd.POLES,fileUrl:"/files/poles.xlsx",uploadDate:"2024-01-15T10:30:00",uploadedBy:"user1",uploadedByName:"John Smith",version:1,status:h.Ai.APPROVED,projectName:"Lawrenceburg Fiber Expansion",projectCode:"LAW",metadata:{poleCount:450,estimatedCost:225e3}},{id:"sow2",name:"Lawrenceburg Phase 1 - Drops.xlsx",type:h.bd.DROPS,fileUrl:"/files/drops.xlsx",uploadDate:"2024-01-15T11:00:00",uploadedBy:"user1",uploadedByName:"John Smith",version:1,status:h.Ai.APPROVED,projectName:"Lawrenceburg Fiber Expansion",projectCode:"LAW",metadata:{dropCount:1200,estimatedCost:18e4}},{id:"sow3",name:"Anderson Network - Fiber Routes.xlsx",type:h.bd.CABLE,fileUrl:"/files/cable.xlsx",uploadDate:"2024-01-16T09:15:00",uploadedBy:"user2",uploadedByName:"Jane Doe",version:2,status:h.Ai.PENDING,projectName:"Anderson Network Upgrade",projectCode:"AND",metadata:{cableLength:45e3,estimatedCost:45e4}},{id:"sow4",name:"Greenville Expansion - Drops Phase 2.xlsx",type:h.bd.DROPS,fileUrl:"/files/drops2.xlsx",uploadDate:"2024-01-17T14:20:00",uploadedBy:"user3",uploadedByName:"Mike Johnson",version:1,status:h.Ai.PENDING,projectName:"Greenville Network Build",projectCode:"GRN",metadata:{dropCount:800,estimatedCost:12e4}},{id:"sow5",name:"Madison District - Trench Requirements.xlsx",type:h.bd.TRENCH,fileUrl:"/files/trench.xlsx",uploadDate:"2024-01-18T08:45:00",uploadedBy:"user2",uploadedByName:"Jane Doe",version:1,status:h.Ai.REJECTED,projectName:"Madison Metro Fiber",projectCode:"MAD",rejectionReason:"Missing depth specifications for underground sections",metadata:{trenchLength:15e3,estimatedCost:3e5}}];t(e),a(!1)}catch(e){C.Rm.error("Error loading SOW documents:",{data:e},"useSOWDocuments"),a(!1)}};return(0,l.useEffect)(()=>{r()},[]),{sowDocuments:e,loading:s,deleteDocument:async e=>{t(t=>t.filter(t=>t.id!==e))},downloadDocument:async e=>{},refreshDocuments:r}}(),{filteredDocuments:x,searchTerm:u,setSearchTerm:p,typeFilter:m,setTypeFilter:y,statusFilter:g,setStatusFilter:v}=function(e){let[t,s]=(0,l.useState)([]),[a,r]=(0,l.useState)(""),[n,i]=(0,l.useState)("all"),[d,o]=(0,l.useState)("all");return(0,l.useEffect)(()=>{let t;t=[...e],a&&(t=t.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.projectName.toLowerCase().includes(a.toLowerCase())||e.projectCode.toLowerCase().includes(a.toLowerCase())||e.uploadedByName.toLowerCase().includes(a.toLowerCase()))),"all"!==n&&(t=t.filter(e=>e.type===n)),"all"!==d&&(t=t.filter(e=>e.status===d)),s(t)},[e,a,n,d]),{filteredDocuments:t,searchTerm:a,setSearchTerm:r,typeFilter:n,setTypeFilter:i,statusFilter:d,setStatusFilter:o}}(s),w=async e=>{window.confirm("Are you sure you want to delete ".concat(e.name,"?"))&&await o(e.id)};return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.A,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"SOW Documents"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage Statement of Work documents"})]})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/projects/sow/upload"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"Upload SOW"]})]}),(0,a.jsx)(A,{documents:s}),(0,a.jsx)(N,{searchTerm:u,onSearchChange:p,typeFilter:m,onTypeFilterChange:y,statusFilter:g,onStatusFilterChange:v}),0===x.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)(n.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No SOW documents found"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Try adjusting your filters or upload a new document"})]}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsx)(j,{documents:x,onView:e=>{t(e)},onEdit:e=>{},onDelete:w,onDownload:c})})]})}},79890:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},89099:(e,t,s)=>{e.exports=s(6763)}}]);