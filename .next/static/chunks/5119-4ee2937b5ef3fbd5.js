"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5119],{5119:(e,r,s)=>{s.d(r,{e:()=>ej});var t=s(37876),a=s(14232),l=s(89099),n=s(9753),o=s(57638),i=s(24113),c=s(9674),d=s(30449);let m={section:"MAIN",items:[{to:"/dashboard",icon:i.A,label:"Dashboard",shortLabel:"Dash",permissions:[]},{to:"/meetings",icon:c.A,label:"Meetings",shortLabel:"Meet",permissions:[]},{to:"/action-items",icon:d.A,label:"Action Items",shortLabel:"Actions",permissions:[]}]};var x=s(49249),f=s(88489),u=s(99483),p=s(61445),h=s(26571),b=s(30409),v=s(75486);let y={section:"PROJECT MANAGEMENT",items:[{to:"/projects",icon:x.A,label:"Projects",shortLabel:"Proj",permissions:[]},{to:"/pole-capture",icon:f.A,label:"Pole Capture",shortLabel:"Poles",permissions:[]},{to:"/fiber-stringing",icon:u.A,label:"Fiber Stringing",shortLabel:"Fiber",permissions:[]},{to:"/drops",icon:p.A,label:"Drops Management",shortLabel:"Drops",permissions:[]},{to:"/sow-management",icon:h.A,label:"SOW Management",shortLabel:"SOW",permissions:[]},{to:"/installations",icon:b.A,label:"Home Installations",shortLabel:"Install",permissions:[]},{to:"/tasks",icon:d.A,label:"Task Management",shortLabel:"Tasks",permissions:[]},{to:"/daily-progress",icon:v.A,label:"Daily Progress",shortLabel:"Daily",permissions:[]}]},j={section:"PEOPLE & MANAGEMENT",items:[{to:"/clients",icon:c.A,label:"Clients",shortLabel:"Clients",permissions:[]},{to:"/staff",icon:c.A,label:"Staff",shortLabel:"Staff",permissions:[]}]};var g=s(66855),N=s(75157);let w={section:"PROCUREMENT",items:[{to:"/procurement",icon:g.A,label:"Procurement Portal",shortLabel:"Procure",permissions:[]},{to:"/suppliers",icon:N.A,label:"Suppliers Portal",shortLabel:"Supply",permissions:[]}]},C={section:"CONTRACTORS",items:[{to:"/contractors",icon:s(3558).A,label:"Contractors Portal",shortLabel:"Contract",permissions:[]}]};var A=s(89183),k=s(50843),S=s(28364);let L={section:"ANALYTICS",items:[{to:"/analytics",icon:A.A,label:"Analytics Dashboard",shortLabel:"Analytics",permissions:[]},{to:"/enhanced-kpis",icon:k.A,label:"Enhanced KPIs",shortLabel:"KPIs",permissions:[]},{to:"/kpi-dashboard",icon:v.A,label:"KPI Dashboard",shortLabel:"KPI Dash",permissions:[]},{to:"/reports",icon:S.A,label:"Reports",shortLabel:"Reports",permissions:[]}]},P={section:"COMMUNICATIONS",items:[{to:"/communications",icon:s(67295).A,label:"Communications Portal",shortLabel:"Comms",permissions:[]},{to:"/meetings",icon:c.A,label:"Meetings",shortLabel:"Meet",permissions:[]},{to:"/action-items",icon:d.A,label:"Action Items",shortLabel:"Actions",permissions:[]}]};var M=s(44861),T=s(79890),E=s(77019);let H={section:"FIELD OPERATIONS",items:[{to:"/field",icon:M.A,label:"Field App Portal",shortLabel:"Field",permissions:[]},{to:"/onemap",icon:T.A,label:"OneMap Data Grid",shortLabel:"OneMap",permissions:[]},{to:"/nokia-equipment",icon:E.A,label:"Nokia Equipment",shortLabel:"Nokia",permissions:[]}]};var D=s(89903);let R=[m,y,j,w,C,L,P,H,{section:"SYSTEM",items:[{to:"/settings",icon:D.A,label:"Settings",shortLabel:"Settings",permissions:[]}]}],I=e=>{let{className:r="",size:s="large"}=e,[l,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("vf-custom-logo");e&&n(e)},[]);let o={small:"w-10 h-10",medium:"w-16 h-16",large:"w-44 h-44"}[s];return(0,t.jsx)("div",{className:"flex items-center justify-center ".concat(r),children:(0,t.jsxs)("div",{className:"rounded-xl shadow-sm ".concat({small:"p-2",medium:"p-3",large:"p-4"}[s]),style:{backgroundColor:"var(--ff-surface-primary)"},children:[l?(0,t.jsx)("img",{src:l,alt:"Logo",className:"".concat(o," object-contain flex-shrink-0")}):(0,t.jsx)("img",{src:"/assets/vf/vf-logo.svg",alt:"Logo",className:"".concat(o," object-contain flex-shrink-0"),onError:e=>{var r;e.currentTarget.style.display="none";let s=null==(r=e.currentTarget.parentElement)?void 0:r.querySelector(".fallback-logo");s&&s.classList.remove("hidden")}}),(0,t.jsx)("div",{className:"hidden fallback-logo ".concat(o," rounded-lg flex items-center justify-center flex-shrink-0"),style:{background:"linear-gradient(135deg, var(--ff-primary-500) 0%, var(--ff-accent-500) 50%, var(--ff-accent-600) 100%)"},children:(0,t.jsx)("span",{className:"font-bold text-2xl",style:{color:"var(--ff-text-inverse)"},children:"VF"})})]})})},F=e=>(null==e?void 0:e.displayName)?e.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):(null==e?void 0:e.email)?e.email.slice(0,2).toUpperCase():"U",O=e=>(null==e?void 0:e.displayName)||(null==e?void 0:e.email)||"User",U=e=>{let r=null==e?void 0:e.role;return(null==r?void 0:r.replace("_"," ").toUpperCase())||"USER"};function z(e){let{isCollapsed:r,currentUser:s,sidebarStyles:a,themeConfig:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"py-6 px-4 border-b mb-4 ".concat(r?"px-2":""),style:{borderColor:a.borderColor},children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(I,{size:r?"medium":"large",className:"mx-auto"})})}),(0,t.jsx)("div",{className:"p-4 border-b mb-4 ".concat(r?"px-2":""),style:{borderColor:a.borderColor},children:r?(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 relative group cursor-pointer",style:{backgroundColor:"var(--ff-primary-500)"},title:"".concat(O(s)," - ").concat(U(s)),children:[(0,t.jsx)("span",{className:"font-semibold text-sm",style:{color:"var(--ff-text-inverse)"},children:F(s)}),(0,t.jsxs)("div",{className:"absolute left-full ml-2 px-3 py-2 text-sm rounded-md shadow-lg border opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",style:{backgroundColor:l.colors.surface.elevated,color:l.colors.text.primary,borderColor:l.colors.border.primary},children:[(0,t.jsx)("div",{className:"font-medium",children:O(s)}),(0,t.jsx)("div",{className:"text-xs opacity-75",children:U(s)})]})]})}):(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--ff-primary-500)"},children:(0,t.jsx)("span",{className:"font-semibold text-sm",style:{color:"var(--ff-text-inverse)"},children:F(s)})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-sm truncate",style:{color:a.textColor},children:O(s)}),(0,t.jsx)("div",{className:"text-xs truncate",style:{color:a.textColorTertiary},children:U(s)})]})]})})]})}var J=s(48230),Y=s.n(J);function _(e){let{visibleNavItems:r,isCollapsed:s,sidebarStyles:a,themeConfig:n}=e,o=(0,l.useRouter)();return(0,t.jsx)(t.Fragment,{children:r.map((e,r)=>(0,t.jsxs)("div",{className:"".concat(s?"px-2":"px-4"," mb-6"),children:[!s&&(0,t.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 px-2",style:{color:a.textColorTertiary},children:e.section}),(0,t.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{let r=o.pathname===e.to;return(0,t.jsxs)(Y(),{href:e.to,className:"flex items-center rounded-lg transition-all duration-200 relative group ".concat(s?"px-3 py-3 justify-center":"px-3 py-2 space-x-3"),style:{backgroundColor:r?n.colors.primary[500]:"transparent",color:r?"#ffffff":a.textColorSecondary},title:s?e.label:void 0,onMouseEnter:e=>{let s=e.currentTarget;r||(s.style.backgroundColor=n.colors.surface.sidebarSecondary||n.colors.surface.secondary,s.style.color=a.textColor)},onMouseLeave:e=>{let s=e.currentTarget;r||(s.style.backgroundColor="transparent",s.style.color=a.textColorSecondary)},children:[(0,t.jsx)(e.icon,{className:"".concat("w-5 h-5"," flex-shrink-0")}),!s&&(0,t.jsx)("span",{className:"text-sm font-medium truncate",children:e.label}),s&&(0,t.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 text-sm rounded-md shadow-lg border opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",style:{backgroundColor:n.colors.surface.elevated,color:n.colors.text.primary,borderColor:n.colors.border.primary},children:e.label})]},e.to)})})]},r))})}var W=s(3738),G=s(44937);function K(e){let{isCollapsed:r,onCollapse:s,sidebarStyles:a,themeConfig:l}=e;return(0,t.jsx)("div",{className:"border-t p-2 flex-shrink-0 ".concat(r?"flex justify-center":""),style:{borderColor:a.borderColor},children:(0,t.jsx)("button",{onClick:s,className:"\n          flex items-center justify-center p-2 rounded-lg \n          transition-colors duration-200\n          ".concat(r?"w-10 h-10":"w-full","\n        "),style:{color:a.textColorSecondary},onMouseEnter:e=>{e.currentTarget.style.color=a.textColor,e.currentTarget.style.backgroundColor=l.colors.surface.sidebarSecondary||l.colors.surface.secondary},onMouseLeave:e=>{e.currentTarget.style.color=a.textColorSecondary,e.currentTarget.style.backgroundColor="transparent"},title:r?"Expand sidebar":"Collapse sidebar",children:r?(0,t.jsx)(W.A,{className:"w-4 h-4"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.A,{className:"w-4 h-4 mr-2"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Collapse"})]})})})}function V(e){let{isOpen:r,isCollapsed:s,onCollapse:a}=e,{currentUser:l,hasPermission:i}=(0,n.A)(),{themeConfig:c}=(0,o.DP)(),d=R.map(e=>({...e,items:e.items.filter(e=>0===e.permissions.length||e.permissions.some(e=>i(e)))})).filter(e=>e.items.length>0),m="vf"===c.name?{backgroundColor:c.colors.surface.sidebar||c.colors.surface.primary,borderColor:c.colors.border.sidebar||c.colors.border.primary,textColor:c.colors.text.sidebarPrimary||c.colors.text.primary,textColorSecondary:c.colors.text.sidebarSecondary||c.colors.text.secondary,textColorTertiary:c.colors.text.sidebarTertiary||c.colors.text.tertiary}:{backgroundColor:c.colors.surface.primary,borderColor:c.colors.border.primary,textColor:c.colors.text.primary,textColorSecondary:c.colors.text.secondary,textColorTertiary:c.colors.text.tertiary};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("aside",{className:"\n          fixed left-0 top-0 h-full shadow-lg transition-all duration-300 z-30 flex flex-col\n          ".concat(r?"translate-x-0":"-translate-x-full","\n          lg:translate-x-0 \n          ").concat(s?"lg:w-16":"lg:w-64","\n          ").concat(s?"w-16":"w-64","\n        "),style:{backgroundColor:m.backgroundColor,borderRight:"1px solid ".concat(m.borderColor)},children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("nav",{className:"flex-1 overflow-y-auto py-4 custom-scrollbar",children:[(0,t.jsx)(z,{isCollapsed:s,currentUser:l,sidebarStyles:m,themeConfig:c}),(0,t.jsx)(_,{visibleNavItems:d,isCollapsed:s,sidebarStyles:m,themeConfig:c})]}),(0,t.jsx)(K,{isCollapsed:s,onCollapse:a,sidebarStyles:m,themeConfig:c})]})})})}var q=s(19878),B=s(8928),Q=s(5723),$=s(46041),X=s(95785),Z=s(10458),ee=s(57840),er=s(95316),es=s(11538);let et={light:B.A,dark:Q.A,vf:$.A,fibreflow:$.A,velocity:X.A};function ea(e){let{variant:r="dropdown",showLabel:s=!0,className:l=""}=e,{currentTheme:n,availableThemes:i,setTheme:c,toggleTheme:d,resetToSystemTheme:m,isSystemTheme:x}=(0,o.DP)(),[f,u]=(0,a.useState)(!1);if("button"===r){let e="dark"===n?B.A:Q.A;return(0,t.jsxs)("button",{onClick:d,className:"\n          inline-flex items-center justify-center p-2 \n          rounded-lg border border-[var(--ff-border-primary)]\n          bg-[var(--ff-surface-primary)] text-[var(--ff-text-primary)]\n          hover:bg-[var(--ff-surface-secondary)]\n          focus:outline-none focus:ring-2 focus:ring-[var(--ff-border-focus)]\n          transition-colors duration-200\n          ".concat(l,"\n        "),title:"Switch to ".concat("dark"===n?"light":"dark"," theme"),children:[(0,t.jsx)(e,{className:"h-5 w-5"}),s&&(0,t.jsx)("span",{className:"ml-2 text-sm font-medium",children:"dark"===n?"Light":"Dark"})]})}if("compact"===r){let e=et[n];return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>u(!f),className:"\n            inline-flex items-center justify-center p-2 \n            rounded-lg text-[var(--ff-text-secondary)]\n            hover:text-[var(--ff-text-primary)]\n            hover:bg-[var(--ff-surface-secondary)]\n            transition-colors duration-200\n            ".concat(l,"\n          "),title:"Current theme: ".concat((0,es.JY)(n)),children:(0,t.jsx)(e,{className:"h-5 w-5"})}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 z-20 w-48 py-2 bg-[var(--ff-surface-elevated)] border border-[var(--ff-border-primary)] rounded-lg shadow-lg",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-[var(--ff-text-tertiary)] uppercase tracking-wide",children:"Select Theme"}),i.map(e=>{let r=et[e],s=n===e;return(0,t.jsxs)("button",{onClick:()=>{c(e),u(!1)},className:"\n                      w-full px-3 py-2 text-left flex items-center\n                      hover:bg-[var(--ff-surface-secondary)]\n                      ".concat(s?"bg-[var(--ff-surface-secondary)]":"","\n                    "),children:[(0,t.jsx)(r,{className:"h-4 w-4 mr-3 text-[var(--ff-text-tertiary)]"}),(0,t.jsx)("span",{className:"text-sm text-[var(--ff-text-primary)]",children:(0,es.JY)(e)}),s&&(0,t.jsx)(Z.A,{className:"h-4 w-4 ml-auto text-[var(--ff-text-accent)]"})]},e)}),(0,t.jsx)("hr",{className:"my-2 border-[var(--ff-border-secondary)]"}),(0,t.jsxs)("button",{onClick:()=>{m(),u(!1)},className:"w-full px-3 py-2 text-left flex items-center hover:bg-[var(--ff-surface-secondary)]",children:[(0,t.jsx)(ee.A,{className:"h-4 w-4 mr-3 text-[var(--ff-text-tertiary)]"}),(0,t.jsx)("span",{className:"text-sm text-[var(--ff-text-primary)]",children:"System"}),x&&(0,t.jsx)(Z.A,{className:"h-4 w-4 ml-auto text-[var(--ff-text-accent)]"})]})]})]})]})}let p=et[n];return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>u(!f),className:"\n          inline-flex items-center px-3 py-2 \n          rounded-lg border border-[var(--ff-border-primary)]\n          bg-[var(--ff-surface-primary)] text-[var(--ff-text-primary)]\n          hover:bg-[var(--ff-surface-secondary)]\n          focus:outline-none focus:ring-2 focus:ring-[var(--ff-border-focus)]\n          transition-colors duration-200\n          ".concat(l,"\n        "),children:[(0,t.jsx)(p,{className:"h-4 w-4"}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"ml-2 text-sm font-medium",children:x?"System":(0,es.JY)(n)}),(0,t.jsx)(er.A,{className:"ml-2 h-4 w-4"})]})]}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 z-20 w-64 py-2 bg-[var(--ff-surface-elevated)] border border-[var(--ff-border-primary)] rounded-lg shadow-lg",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-[var(--ff-text-tertiary)] uppercase tracking-wide",children:"Select Theme"}),i.map(e=>{let r=et[e],s=n===e&&!x;return(0,t.jsxs)("button",{onClick:()=>{c(e),u(!1)},className:"\n                    w-full px-3 py-2 text-left flex items-start\n                    hover:bg-[var(--ff-surface-secondary)]\n                    ".concat(s?"bg-[var(--ff-surface-secondary)]":"","\n                  "),children:[(0,t.jsx)(r,{className:"h-4 w-4 mt-0.5 mr-3 text-[var(--ff-text-tertiary)]"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:(0,es.JY)(e)}),(0,t.jsx)("div",{className:"text-xs text-[var(--ff-text-tertiary)]",children:(0,es.G5)(e)})]}),s&&(0,t.jsx)(Z.A,{className:"h-4 w-4 mt-0.5 text-[var(--ff-text-accent)]"})]},e)}),(0,t.jsx)("hr",{className:"my-2 border-[var(--ff-border-secondary)]"}),(0,t.jsxs)("button",{onClick:()=>{m(),u(!1)},className:"\n                w-full px-3 py-2 text-left flex items-start\n                hover:bg-[var(--ff-surface-secondary)]\n                ".concat(x?"bg-[var(--ff-surface-secondary)]":"","\n              "),children:[(0,t.jsx)(ee.A,{className:"h-4 w-4 mt-0.5 mr-3 text-[var(--ff-text-tertiary)]"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:"System"}),(0,t.jsx)("div",{className:"text-xs text-[var(--ff-text-tertiary)]",children:"Use your system's theme preference"})]}),x&&(0,t.jsx)(Z.A,{className:"h-4 w-4 mt-0.5 text-[var(--ff-text-accent)]"})]})]})]})]})}var el=s(87249);function en(e){let{breadcrumbs:r,title:s,onMenuClick:a}=e;return(0,t.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,t.jsx)("button",{onClick:a,className:"p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg lg:hidden mr-2",children:(0,t.jsx)(el.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex flex-col min-w-0",children:[r&&r.length>1&&(0,t.jsx)("nav",{className:"flex items-center space-x-1 text-sm text-[var(--ff-text-tertiary)] mb-1",children:r.map((e,s)=>{let a=s===r.length-1;return(0,t.jsxs)("div",{className:"flex items-center",children:[s>0&&(0,t.jsx)(W.A,{className:"h-3 w-3 mx-1"}),a?(0,t.jsx)("span",{className:"text-[var(--ff-text-primary)] font-medium",children:e}):(0,t.jsx)(Y(),{href:(e=>{switch(e.toLowerCase()){case"home":case"dashboard":return"/app/dashboard";case"projects":return"/app/projects";case"clients":return"/app/clients";case"staff":case"staff management":return"/app/staff";case"procurement":return"/app/procurement";case"suppliers":return"/app/suppliers";case"contractors":return"/app/contractors";case"communications":return"/app/communications";case"analytics":return"/app/analytics";case"settings":return"/app/settings";case"field app":return"/app/field";case"daily progress":return"/app/daily-progress";default:return"#"}})(e),className:"hover:text-[var(--ff-text-primary)] transition-colors",children:e})]},s)})}),(0,t.jsx)("h1",{className:"text-xl lg:text-2xl font-semibold text-[var(--ff-text-primary)] truncate",children:s})]})]})}var eo=s(17734);function ei(e){let{searchQuery:r,onSearchChange:s}=e;return(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search projects, clients...",value:r,onChange:e=>s(e.target.value),className:"pl-10 pr-4 py-2 w-64 border border-[var(--ff-border-primary)] rounded-lg bg-[var(--ff-background-primary)] text-[var(--ff-text-primary)] placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-border-focus focus:border-transparent"}),(0,t.jsx)(eo.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-[var(--ff-text-tertiary)]"})]})}var ec=s(45499);function ed(e){let{notifications:r,showNotifications:s,onToggleNotifications:a,notificationRef:l}=e,n=r.filter(e=>e.unread).length;return(0,t.jsxs)("div",{className:"relative",ref:l,children:[(0,t.jsxs)("button",{onClick:a,className:"relative p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",title:"Notifications",children:[(0,t.jsx)(ec.A,{className:"h-4 w-4"}),n>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-error-500 text-white text-xs rounded-full flex items-center justify-center",children:n})]}),s&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-[var(--ff-surface-elevated)] rounded-lg shadow-xl border border-[var(--ff-border-primary)] py-2 z-50",children:[(0,t.jsx)("div",{className:"px-4 py-2 border-b border-[var(--ff-border-secondary)]",children:(0,t.jsx)("h3",{className:"font-medium text-[var(--ff-text-primary)]",children:"Notifications"})}),(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:r.map(e=>(0,t.jsxs)("div",{className:"px-4 py-3 border-l-4 hover:bg-[var(--ff-surface-secondary)] ".concat(e.unread?"border-l-primary-500 bg-primary-50":"border-l-transparent"),children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)] mt-1",children:e.time})]},e.id))}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-[var(--ff-border-secondary)]",children:(0,t.jsx)(Y(),{href:"/app/notifications",className:"text-sm text-primary-600 hover:text-primary-700",children:"View all notifications"})})]})]})}var em=s(78539),ex=s(51165),ef=s(5404),eu=s(40049);function ep(e){var r;let{user:s,showUserMenu:a,onToggleUserMenu:o,userMenuRef:i,onLogout:c}=e,d=(0,l.useRouter)(),{currentUser:m}=(0,n.A)(),x=()=>{let e=s||m;return(null==e?void 0:e.displayName)||(null==e?void 0:e.email)||"User"},f=()=>{var e;let r=s||m;return(null==r||null==(e=r.role)?void 0:e.replace("_"," ").toUpperCase())||"USER"},u=e=>{d.push(e),o()};return(0,t.jsxs)("div",{className:"relative",ref:i,children:[(0,t.jsxs)("button",{onClick:o,className:"flex items-center space-x-2 p-2 hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-sm font-semibold",children:(()=>{let e=s||m;return(null==e?void 0:e.displayName)?e.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):(null==e?void 0:e.email)?e.email.slice(0,2).toUpperCase():"U"})()})}),(0,t.jsxs)("div",{className:"hidden lg:block text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--ff-text-primary)]",children:x()}),(0,t.jsx)("p",{className:"text-xs text-[var(--ff-text-tertiary)]",children:f()})]})]}),a&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-[var(--ff-surface-elevated)] rounded-lg shadow-xl border border-[var(--ff-border-primary)] py-2 z-50",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-[var(--ff-border-secondary)]",children:[(0,t.jsx)("p",{className:"font-medium text-[var(--ff-text-primary)]",children:x()}),(0,t.jsx)("p",{className:"text-sm text-[var(--ff-text-tertiary)]",children:null==(r=s||m)?void 0:r.email}),(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary-100 text-primary-800 mt-2",children:[(0,t.jsx)(em.A,{className:"h-3 w-3 mr-1"}),f()]})]}),(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("button",{onClick:()=>u("/app/profile"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,t.jsx)(ex.A,{className:"h-4 w-4 mr-3"}),"My Profile"]}),(0,t.jsxs)("button",{onClick:()=>u("/app/settings"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,t.jsx)(D.A,{className:"h-4 w-4 mr-3"}),"Settings"]}),(0,t.jsxs)("button",{onClick:()=>u("/app/help"),className:"flex items-center px-4 py-2 text-sm text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] w-full text-left",children:[(0,t.jsx)(ef.A,{className:"h-4 w-4 mr-3"}),"Help & Support"]})]}),(0,t.jsx)("hr",{className:"my-1 border-[var(--ff-border-secondary)]"}),(0,t.jsxs)("button",{onClick:c,className:"flex items-center px-4 py-2 text-sm text-error-600 hover:bg-error-50 w-full text-left",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})}function eh(e){let{title:r="Dashboard",breadcrumbs:s=["Home"],actions:l,showSearch:n=!0,onMenuClick:o,user:i}=e,[c,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[f,u]=(0,a.useState)(""),[p]=(0,a.useState)([{id:1,title:"New project assigned",time:"5 min ago",unread:!0},{id:2,title:"Staff member added",time:"1 hour ago",unread:!0},{id:3,title:"Report generated",time:"2 hours ago",unread:!1}]),h=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&d(!1),b.current&&!b.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let v=async()=>{};return(0,t.jsx)("header",{className:"bg-[var(--ff-surface-primary)] border-b border-[var(--ff-border-primary)] shadow-sm",children:(0,t.jsx)("div",{className:"px-4 lg:px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(en,{breadcrumbs:s,title:r,...o&&{onMenuClick:o}}),l&&(0,t.jsx)("div",{className:"hidden lg:flex items-center space-x-2 mx-4",children:l}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[n&&(0,t.jsx)(ei,{searchQuery:f,onSearchChange:u}),(0,t.jsx)(ea,{variant:"compact",showLabel:!1}),(0,t.jsx)("button",{className:"p-2 text-[var(--ff-text-secondary)] hover:text-[var(--ff-text-primary)] hover:bg-[var(--ff-surface-secondary)] rounded-lg transition-colors",title:"Sync data",children:(0,t.jsx)(q.A,{className:"h-4 w-4"})}),(0,t.jsx)(ed,{notifications:p,showNotifications:m,onToggleNotifications:()=>x(!m),notificationRef:b}),(0,t.jsx)(ep,{...i&&{user:i},showUserMenu:c,onToggleUserMenu:()=>d(!c),userMenuRef:h,onLogout:v})]})]})})})}var eb=s(29206);function ev(){let e=new Date().getFullYear();return(0,t.jsxs)("footer",{className:"bg-[var(--ff-surface-primary)] border-t border-[var(--ff-border-primary)] py-3 px-4 lg:px-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center text-sm text-[var(--ff-text-tertiary)]",children:(0,t.jsxs)("span",{children:["\xa9 ",e," FibreFlow. All rights reserved."]})}),(0,t.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 text-xs text-[var(--ff-text-tertiary)]",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,t.jsx)("span",{children:"System Online"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(em.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Secure Connection"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(X.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"React v18.3+"})]})]}),(0,t.jsx)("div",{className:"flex items-center text-sm text-[var(--ff-text-tertiary)]",children:(0,t.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:"Migrated to React with"}),(0,t.jsx)(eb.A,{className:"w-3 h-3 text-error-500 fill-current"}),(0,t.jsx)("span",{children:"by VF Team"})]})})]}),(0,t.jsxs)("div",{className:"lg:hidden flex justify-center items-center space-x-4 text-xs text-[var(--ff-text-tertiary)] mt-2 pt-2 border-t border-[var(--ff-border-subtle)]",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,t.jsx)("span",{children:"Online"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(em.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Secure"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(X.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"React"})]})]})]})}var ey=s(79992);function ej(e){let{children:r}=e,[s,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(()=>{{let e=localStorage.getItem("fibreflow-sidebar-collapsed");return!!e&&JSON.parse(e)}}),d=(0,l.useRouter)(),{currentUser:m,loading:x}=(0,n.A)();if((0,a.useEffect)(()=>{localStorage.setItem("fibreflow-sidebar-collapsed",JSON.stringify(i))},[i]),(0,a.useEffect)(()=>{o(!1)},[d.pathname]),x)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[var(--ff-background-primary)]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(ey.kt,{size:"lg",className:"mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-[var(--ff-text-secondary)]",children:"Loading application..."})]})});let f=(()=>{let e=d.pathname,r=e.split("/").filter(Boolean);return e.includes("dashboard")?{title:"Dashboard",breadcrumbs:["Home","Dashboard"]}:e.includes("projects")?r.includes("create")?{title:"Create Project",breadcrumbs:["Home","Projects","Create"]}:r.length>2?{title:"Project Details",breadcrumbs:["Home","Projects","Details"]}:{title:"Projects",breadcrumbs:["Home","Projects"]}:e.includes("pole-tracker")?{title:"Pole Tracker",breadcrumbs:["Home","Project Management","Pole Tracker"]}:e.includes("clients")?r.includes("create")||r.includes("new")?{title:"Add Client",breadcrumbs:["Home","Clients","Add"]}:r.length>2?{title:"Client Details",breadcrumbs:["Home","Clients","Details"]}:{title:"Clients",breadcrumbs:["Home","Clients"]}:e.includes("staff")?r.includes("create")||r.includes("new")?{title:"Add Staff Member",breadcrumbs:["Home","Staff","Add"]}:r.includes("import")?{title:"Import Staff",breadcrumbs:["Home","Staff","Import"]}:r.includes("settings")?{title:"Staff Settings",breadcrumbs:["Home","Staff","Settings"]}:r.length>2?{title:"Staff Details",breadcrumbs:["Home","Staff","Details"]}:{title:"Staff Management",breadcrumbs:["Home","Staff"]}:e.includes("procurement")?{title:"Procurement",breadcrumbs:["Home","Procurement"]}:e.includes("suppliers")?{title:"Suppliers",breadcrumbs:["Home","Suppliers"]}:e.includes("contractors")?{title:"Contractors",breadcrumbs:["Home","Contractors"]}:e.includes("communications")||e.includes("meetings")?{title:"Communications",breadcrumbs:["Home","Communications"]}:e.includes("analytics")||e.includes("reports")?{title:"Analytics & Reports",breadcrumbs:["Home","Analytics"]}:e.includes("daily-progress")?{title:"Daily Progress",breadcrumbs:["Home","Analytics","Daily Progress"]}:e.includes("field")?{title:"Field App",breadcrumbs:["Home","Field App"]}:e.includes("settings")?{title:"Settings",breadcrumbs:["Home","Settings"]}:e.includes("action-items")?{title:"Action Items",breadcrumbs:["Home","Communications","Action Items"]}:e.includes("sow")?{title:"SOW Management",breadcrumbs:["Home","Project Management","SOW"]}:{title:"FibreFlow",breadcrumbs:["Home"]}})();return(0,t.jsxs)("div",{className:"flex h-screen bg-[var(--ff-background-secondary)] overflow-hidden",children:[(0,t.jsx)(V,{isOpen:s,isCollapsed:i,onToggle:()=>o(!s),onCollapse:()=>c(!i)}),s&&(0,t.jsx)("div",{className:"fixed inset-0 z-20 bg-[var(--ff-surface-overlay)] lg:hidden",onClick:()=>o(!1)}),(0,t.jsxs)("div",{className:"\n        flex-1 flex flex-col min-w-0 transition-all duration-300\n        ".concat(i?"lg:ml-16":"lg:ml-64","\n      "),children:[(0,t.jsx)(eh,{title:f.title,breadcrumbs:f.breadcrumbs||["Home"],actions:f.actions,onMenuClick:()=>o(!0),user:m}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-[var(--ff-background-primary)]",children:(0,t.jsx)("div",{className:"min-h-full",children:r})}),(0,t.jsx)(ev,{})]})]})}},79992:(e,r,s)=>{s.d(r,{kt:()=>o});var t=s(37876),a=s(98960);let l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},n={primary:"text-primary-600",secondary:"text-[var(--ff-text-secondary)]",white:"text-white",success:"text-success-600",warning:"text-warning-600",error:"text-error-600"};function o(e){let{size:r="md",variant:s="primary",className:o="",label:i="Loading..."}=e;return(0,t.jsx)("div",{className:(0,a.cn)("flex items-center justify-center",o),children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsxs)("svg",{className:(0,a.cn)("animate-spin",l[r],n[s]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":i,children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i&&"sm"!==r&&(0,t.jsx)("span",{className:"text-sm text-[var(--ff-text-secondary)]",children:i}),(0,t.jsx)("span",{className:"sr-only",children:i})]})})}},98960:(e,r,s)=>{s.d(r,{cn:()=>l});var t=s(69241),a=s(29573);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}}]);