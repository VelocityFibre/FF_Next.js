(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2468],{1815:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},10639:(e,t,s)=>{"use strict";s.d(t,{T:()=>j});var a=s(37876),r=s(14232),n=s(89099),i=s(75375),l=s(51165),o=s(1815),c=s(1714),u=s(61368),d=s(6318);function m(e){let{formData:t,handleInputChange:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>s("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID *"}),(0,a.jsx)("input",{type:"text",required:!0,value:t.employeeId,onChange:e=>s("employeeId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:t.email,onChange:e=>s("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,a.jsx)("input",{type:"tel",required:!0,value:t.phone,onChange:e=>s("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternative Phone"}),(0,a.jsx)("input",{type:"tel",value:t.alternativePhone||"",onChange:e=>s("alternativePhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}var g=function(e){return e.MD="MD",e.CCSO="CCSO",e.BDO="BDO",e.HEAD_OF_OPERATIONS="Head of Operations",e.HEAD_OF_PLANNING="Head of Planning",e.HEAD_OF_PROCUREMENT="Head of Procurement",e.HEAD_OF_ACQUISITIONS="Head of Acquisitions",e.HEAD_OF_OPTICAL="Head of Optical",e.SHEQ_MANAGER="SHEQ Manager",e.PROJECT_MANAGER="Project Manager",e.OPTICAL_PROJECT_MANAGER="Optical Project Manager",e.REGIONAL_PROJECT_MANAGER="Regional Project Manager",e.SITE_MANAGER="Site Manager",e.DATA_MANAGER="Data Manager",e.SENIOR_TECHNICIAN="Senior Technician",e.SENIOR_PLANNER="Senior Planner",e.TECHNICIAN="Technician",e.PLANNER="Planner",e.CLO="CLO",e.WAYLEAVE_OFFICER="Wayleave Officer",e.ADMIN="Admin",e.DATA_CAPTURER="Data Capturer",e.ADMIN_ASSISTANT="Administrative Assistant",e.FIELD_TECHNICIAN="Field Technician",e.CABLE_JOINTER="Cable Jointer",e.FIBRE_SPLICER="Fibre Splicer",e.NETWORK_ENGINEER="Network Engineer",e.QUALITY_INSPECTOR="Quality Inspector",e.SAFETY_OFFICER="Safety Officer",e.TEAM_LEAD="Team Lead",e.LOGISTICS_COORDINATOR="Logistics Coordinator",e.DRIVER="Driver",e.GENERAL_WORKER="General Worker",e.INTERN="Intern",e.OTHER="Other",e}({}),h=function(e){return e.OPERATIONS="Operations",e.SERVICE_DELIVERY="Service Delivery",e.BUSINESS_DEVELOPMENT="Business Development",e.COMMERCIAL_STRATEGY="Commercial & Strategy",e.PLANNING="Planning",e.PROCUREMENT="Procurement",e.SHEQ="SHEQ",e.ADMIN="Admin",e.FINANCE="Finance",e.HR="Human Resources",e.IT_DATA="IT & Data",e.NETWORK_OPERATIONS="Network Operations",e.ENGINEERING="Engineering",e.INSTALLATION="Installation",e.MAINTENANCE="Maintenance",e.QUALITY_ASSURANCE="Quality Assurance",e.TECHNICAL_SUPPORT="Technical Support",e.SALES="Sales",e.CUSTOMER_SERVICE="Customer Service",e.LOGISTICS="Logistics",e.SAFETY="Safety",e}({});function p(e){let{formData:t,handleInputChange:s}=e,{data:r}=(0,c.gW)(),n=t.department?({Operations:["Head of Operations","Head of Optical","Project Manager","Optical Project Manager","Regional Project Manager","Site Manager","Senior Technician","Technician","Field Technician","Fibre Splicer","Cable Jointer"],"Service Delivery":["Admin","Administrative Assistant","Data Capturer"],"Business Development":["BDO","Head of Acquisitions","CLO","Wayleave Officer"],Planning:["Head of Planning","Senior Planner","Planner"],Procurement:["Head of Procurement"],SHEQ:["SHEQ Manager","Safety Officer","Quality Inspector"],"IT & Data":["Data Manager","Network Engineer"],"Commercial & Strategy":["CCSO"]})[t.department]||[]:Object.values(g),i=(null==r?void 0:r.filter(e=>e.id!==t.id&&["MD","CCSO","BDO","Head","Manager"].some(t=>{var s;return null==(s=e.position)?void 0:s.includes(t)})))||[];return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Employment Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),(0,a.jsxs)("select",{value:t.department,onChange:e=>s("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),Object.values(h).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,a.jsxs)("select",{value:t.position,onChange:e=>s("position",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Position"}),n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reports To"}),(0,a.jsxs)("select",{value:t.reportsTo||"",onChange:e=>s("reportsTo",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"No Direct Manager"}),i.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," - ",e.position]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),(0,a.jsxs)("select",{value:t.level,onChange:e=>s("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Level"}),Object.values(u.Lz).map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,a.jsxs)("select",{value:t.status,onChange:e=>s("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Status"}),Object.values(u.fo).map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Type *"}),(0,a.jsxs)("select",{value:t.contractType,onChange:e=>s("contractType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Contract Type"}),Object.values(u.h$).map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),(0,a.jsx)("input",{type:"date",required:!0,value:t.startDate?t.startDate.toISOString().split("T")[0]:"",onChange:e=>s("startDate",new Date(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:t.endDate?t.endDate.toISOString().split("T")[0]:"",onChange:e=>s("endDate",e.target.value?new Date(e.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Years"}),(0,a.jsx)("input",{type:"number",min:"0",max:"50",value:t.experienceYears,onChange:e=>s("experienceYears",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Project Count"}),(0,a.jsx)("input",{type:"number",min:"0",max:"20",value:t.maxProjectCount,onChange:e=>s("maxProjectCount",parseInt(e.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}function x(e){let{formData:t,handleInputChange:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Emergency Contact"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),(0,a.jsx)("input",{type:"text",value:t.emergencyContactName||"",onChange:e=>s("emergencyContactName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),(0,a.jsx)("input",{type:"tel",value:t.emergencyContactPhone||"",onChange:e=>s("emergencyContactPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}function f(e){let{formData:t,handleInputChange:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Availability & Scheduling"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Hours"}),(0,a.jsx)("input",{type:"text",value:t.workingHours,onChange:e=>s("workingHours",e.target.value),placeholder:"e.g., 8:00 AM - 5:00 PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Zone"}),(0,a.jsxs)("select",{value:t.timeZone,onChange:e=>s("timeZone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"CAT",children:"CAT (Central Africa Time)"}),(0,a.jsx)("option",{value:"SAST",children:"SAST (South African Standard Time)"}),(0,a.jsx)("option",{value:"EAT",children:"EAT (East Africa Time)"}),(0,a.jsx)("option",{value:"WAT",children:"WAT (West Africa Time)"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.availableWeekends,onChange:e=>s("availableWeekends",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Available Weekends"})]})}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.availableNights,onChange:e=>s("availableNights",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Available Nights"})]})})]})]})}function b(e){let{formData:t,toggleSkill:s,handleInputChange:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Skills & Certifications"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technical Skills"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.values(u.ef).map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.skills.includes(e),onChange:()=>null==s?void 0:s(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.replace("_"," ").charAt(0).toUpperCase()+e.slice(1)})]},e))})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specializations (comma-separated)"}),(0,a.jsx)("input",{type:"text",value:(t.specializations||[]).join(", "),onChange:e=>r("specializations",e.target.value.split(",").map(e=>e.trim()).filter(Boolean)),placeholder:"e.g., GPON, Aerial Installation, Splicing",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,a.jsx)("textarea",{value:t.notes||"",onChange:e=>r("notes",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}var y=s(79992),v=s(82964),N=s(16932);function j(){let e=(0,n.useRouter)(),{id:t}=e.query,s=!!t,{data:g,isLoading:h}=(0,c.sZ)(t||"",{enabled:!!t}),j=(0,c.Wp)(),C=(0,c.le)(),[A,E]=(0,r.useState)({name:"",email:"",phone:"",employeeId:"",position:"",department:"field_operations",status:u.fo.ACTIVE,skills:[],experienceYears:0,address:"",city:"Johannesburg",province:"Gauteng",postalCode:"",startDate:new Date,contractType:u.h$.PERMANENT,workingHours:"08:00 - 17:00",availableWeekends:!1,availableNights:!1,timeZone:"Africa/Johannesburg",maxProjectCount:5});(0,r.useEffect)(()=>{if(g&&s){let e=new Date(g.startDate instanceof v.Dc?1e3*g.startDate.seconds:g.startDate),t={name:g.name,email:g.email,phone:g.phone,employeeId:g.employeeId,position:"string"==typeof g.position?g.position:String(g.position),department:"string"==typeof g.department?g.department:String(g.department),status:g.status,skills:g.skills||[],experienceYears:g.experienceYears||0,address:g.address,city:g.city,province:g.province,postalCode:g.postalCode,startDate:e,contractType:g.contractType,workingHours:g.workingHours||"08:00 - 17:00",availableWeekends:g.availableWeekends||!1,availableNights:g.availableNights||!1,timeZone:g.timeZone||"Africa/Johannesburg",maxProjectCount:g.maxProjectCount||5};g.id&&(t.id=g.id),g.alternativePhone&&(t.alternativePhone=g.alternativePhone),g.level&&(t.level=g.level),g.reportsTo&&(t.reportsTo=g.reportsTo),g.specializations&&(t.specializations=g.specializations),g.emergencyContactName&&(t.emergencyContactName=g.emergencyContactName),g.emergencyContactPhone&&(t.emergencyContactPhone=g.emergencyContactPhone),g.endDate&&(t.endDate=(0,d.xi)(g.endDate)),g.salaryGrade&&(t.salaryGrade=g.salaryGrade),void 0!==g.hourlyRate&&(t.hourlyRate=g.hourlyRate),g.notes&&(t.notes=g.notes),g.bio&&(t.bio=g.bio),E(e=>({...e,...t}))}},[g,s]);let S=async a=>{a.preventDefault();try{s?await C.mutateAsync({id:t,data:A}):await j.mutateAsync(A),e.push("/app/staff")}catch(e){N.Rm.error("Failed to save staff member:",{data:e},"StaffForm")}},O=(e,t)=>{E(s=>({...s,[e]:t}))};return h&&s?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(y.kt,{size:"lg",label:"Loading staff member..."})}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{onClick:()=>e.push("/app/staff"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"Back to Staff List"]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Staff Member":"Add New Staff Member"})]})}),(0,a.jsxs)("form",{onSubmit:S,className:"p-6 space-y-6",children:[(0,a.jsx)(m,{formData:A,handleInputChange:O}),(0,a.jsx)(p,{formData:A,handleInputChange:O}),(0,a.jsx)(x,{formData:A,handleInputChange:O}),(0,a.jsx)(f,{formData:A,handleInputChange:O}),(0,a.jsx)(b,{formData:A,handleInputChange:O,toggleSkill:e=>{E(t=>({...t,skills:t.skills.includes(e)?t.skills.filter(t=>t!==e):[...t.skills,e]}))}}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/app/staff"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:j.isPending||C.isPending,className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j.isPending||C.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.kt,{size:"sm",className:"mr-2"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),s?"Update Staff Member":"Create Staff Member"]})})]})]})]})]})}},32383:()=>{},40097:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var a=s(14232),r=s(21407),n=s(60388),i=s(90089),l=s(37149),o=class extends i.Q{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.EN)(t.mutationKey)!==(0,l.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,r.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.jG.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s),this.#a.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s),this.#a.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},c=s(67768);function u(e,t){let s=(0,c.jE)(t),[r]=a.useState(()=>new o(s,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let i=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(n.jG.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=a.useCallback((e,t)=>{r.mutate(e,t).catch(l.lQ)},[r]);if(i.error&&(0,l.GU)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:u,mutateAsync:i.mutate}}},51165:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},75375:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},79992:(e,t,s)=>{"use strict";s.d(t,{kt:()=>l});var a=s(37876),r=s(98960);let n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"text-primary-600",secondary:"text-[var(--ff-text-secondary)]",white:"text-white",success:"text-success-600",warning:"text-warning-600",error:"text-error-600"};function l(e){let{size:t="md",variant:s="primary",className:l="",label:o="Loading..."}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex items-center justify-center",l),children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsxs)("svg",{className:(0,r.cn)("animate-spin",n[t],i[s]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":o,children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o&&"sm"!==t&&(0,a.jsx)("span",{className:"text-sm text-[var(--ff-text-secondary)]",children:o}),(0,a.jsx)("span",{className:"sr-only",children:o})]})})}},83686:()=>{},89099:(e,t,s)=>{e.exports=s(6763)},98960:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(69241),r=s(29573);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}}]);