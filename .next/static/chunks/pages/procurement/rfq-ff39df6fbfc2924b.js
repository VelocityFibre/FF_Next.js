(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1326],{17329:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/procurement/rfq",function(){return s(56104)}])},28364:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},55194:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},56104:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSP:()=>o,default:()=>x});var r=s(37876),a=s(14232),n=s(89099),i=s(55194),l=s(97730),c=s(28364);function d(e){let{onCreateRFQ:t,onSelectRFQ:s,selectedRFQId:n,className:d,rfqs:o=[],onView:x,onEdit:u}=e,[m,h]=(0,a.useState)(o),[p,y]=(0,a.useState)(0===o.length);(0,a.useEffect)(()=>{0===o.length?f():(h(o),y(!1))},[o]);let f=async()=>{y(!0);try{await new Promise(e=>setTimeout(e,1e3)),h([{id:"1",title:"Network Equipment RFQ",description:"Request for fiber optic equipment and cables",status:"active",createdAt:"2024-01-15T10:00:00Z",dueDate:"2024-02-15T23:59:59Z",supplierCount:5,responseCount:3},{id:"2",title:"Installation Services RFQ",description:"Professional installation services for fiber network",status:"draft",createdAt:"2024-01-10T14:30:00Z",dueDate:"2024-03-01T23:59:59Z",supplierCount:3,responseCount:0}])}catch(e){console.error("Error loading RFQs:",e),h([])}finally{y(!1)}},g=e=>new Date(e).toLocaleDateString();return p?(0,r.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading RFQs..."})]}):(0,r.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Request for Quotations (",m.length,")"]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Manage and track your RFQ requests"})]}),t&&(0,r.jsxs)("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Create RFQ"]})]}),m.length>0?(0,r.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:m.map(e=>(0,r.jsx)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer transition-colors ".concat(n===e.id?"bg-blue-50 border-l-4 border-blue-500":""),onClick:()=>{s&&s(e),x&&x(e.id)},children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"closed":default:return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800"}})(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.description&&(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:e.description}),(0,r.jsxs)("div",{className:"mt-3 flex items-center space-x-6 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["Created: ",g(e.createdAt)]}),e.dueDate&&(0,r.jsxs)("span",{children:["Due: ",g(e.dueDate)]}),(0,r.jsxs)("span",{children:["Suppliers: ",e.supplierCount||0]}),(0,r.jsxs)("span",{children:["Responses: ",e.responseCount||0]})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:u&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Edit"})})]})},e.id))})}):(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border",children:[(0,r.jsx)(c.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No RFQs Found"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No RFQs have been created for this project yet."}),t&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Create Your First RFQ"})})]})]})}var o=!0;function x(e){let{projectId:t,projectName:s,initialData:i=[]}=e,l=(0,n.useRouter)(),[c,o]=(0,a.useState)(i),[x,u]=(0,a.useState)(!i.length);(0,a.useEffect)(()=>{i.length||m()},[t]);let m=async()=>{u(!0);try{let e=await fetch(t?"/api/procurement/rfq?projectId=".concat(t):"/api/procurement/rfq");if(!e.ok)throw Error("Failed to load RFQ data");let s=await e.json();o(s.rfqs||[])}catch(e){console.error("Error loading RFQ data:",e)}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Request for Quotations"}),s&&(0,r.jsxs)("p",{className:"mt-2 text-gray-600",children:["Project: ",s]})]}),x?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading RFQ data..."})}):(0,r.jsx)(d,{rfqs:c,onCreateRFQ:()=>{l.push("/procurement/rfq/new")},onView:e=>{l.push("/procurement/rfq/".concat(e))},onEdit:e=>{l.push("/procurement/rfq/".concat(e,"/edit"))},className:"mt-6"})]})})}},89099:(e,t,s)=>{e.exports=s(6763)},97730:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},e=>{e.O(0,[636,6593,8792],()=>e(e.s=17329)),_N_E=e.O()}]);