(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4376],{3558:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},21744:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},32383:()=>{},33795:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(37876),a=s(89099),i=s(75375),l=s(58875),n=s(57009),c=s(52958),d=s(3558),o=s(21744);let m=(0,s(56467).A)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var h=s(1714),x=s(62528),u=s(6318),p=s(16932);function g(){var e,t,s,g,y;let j=(0,a.useRouter)(),{id:f}=j.query,{data:v,isLoading:N,error:b}=(0,h.sZ)(f||""),w=(0,h.Jf)(),A=async()=>{if(confirm("Are you sure you want to delete this staff member?"))try{await w.mutateAsync(f),j.push("/app/staff")}catch(e){alert("Failed to delete staff member")}};return N?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b||!v?(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-600",children:"Staff member not found"})})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("button",{onClick:()=>j.push("/app/staff"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[(0,r.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"Back to Staff List"]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xl font-medium text-blue-600",children:v.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:v.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:v.employeeId})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>j.push("/app/staff/".concat(f,"/edit")),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(l.A,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,r.jsx)("button",{onClick:A,disabled:w.isPending,className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-white border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-medium rounded-full ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"on_leave":return"bg-yellow-100 text-yellow-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800"}})(v.status)),children:(null==(e=v.status)?void 0:e.replace("_"," ").toUpperCase())||"UNKNOWN"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,r.jsx)("a",{href:"mailto:".concat(v.email),className:"text-blue-600 hover:text-blue-800",children:v.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,r.jsx)("a",{href:"tel:".concat(v.phone),className:"text-blue-600 hover:text-blue-800",children:v.phone})]})]}),v.alternativePhone&&(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Alternative Phone"}),(0,r.jsx)("a",{href:"tel:".concat(v.alternativePhone),className:"text-blue-600 hover:text-blue-800",children:v.alternativePhone})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Job Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Position"}),(0,r.jsx)("p",{className:"font-medium",children:v.position})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Department"}),(0,r.jsx)("p",{className:"font-medium",children:(null==(t=v.department)?void 0:t.replace("_"," ").charAt(0).toUpperCase())+((null==(s=v.department)?void 0:s.slice(1))||"")||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Level"}),(0,r.jsx)("p",{className:"font-medium",children:v.level?v.level.replace("_"," ").charAt(0).toUpperCase()+v.level.slice(1):"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Contract Type"}),(0,r.jsx)("p",{className:"font-medium",children:(null==(g=v.contractType)?void 0:g.replace("_"," ").charAt(0).toUpperCase())+((null==(y=v.contractType)?void 0:y.slice(1))||"")||"Not specified"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,r.jsx)("p",{className:"font-medium",children:(()=>{let e=v.startDate;if(e)try{let t=(0,u.xi)(e);return(0,x.A)(t,"dd MMM yyyy")}catch(e){return p.Rm.warn("Error formatting start date:",{data:e},"StaffDetail"),"Invalid Date"}return"N/A"})()})]})]}),v.endDate&&(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.A,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"End Date"}),(0,r.jsx)("p",{className:"font-medium",children:(()=>{let e=v.endDate;if(e)try{let t=(0,u.xi)(e);return(0,x.A)(t,"dd MMM yyyy")}catch(e){return p.Rm.warn("Error formatting end date:",{data:e},"StaffDetail"),"Invalid Date"}return"N/A"})()})]})]})]})]}),v.skills&&Array.isArray(v.skills)&&v.skills.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Skills"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:v.skills.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(0,r.jsx)(m,{className:"w-3 h-3 mr-1"}),(null==e?void 0:e.replace(/_/g," ").charAt(0).toUpperCase())+((null==e?void 0:e.slice(1))||"")||e]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Project Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Current Projects"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[v.currentProjectCount||0," / ",v.maxProjectCount||5]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat((v.currentProjectCount||0)/(v.maxProjectCount||5)*100,"%")}})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Completed Projects"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:v.totalProjectsCompleted||0})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Average Rating"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[(v.averageProjectRating||0).toFixed(1)," / 5.0"]})]})]})]}),(v.emergencyContactName||v.emergencyContactPhone)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Emergency Contact"}),(0,r.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[v.emergencyContactName&&(0,r.jsx)("p",{className:"font-medium text-gray-900",children:v.emergencyContactName}),v.emergencyContactPhone&&(0,r.jsx)("p",{className:"text-sm text-gray-600",children:v.emergencyContactPhone})]})]}),v.address&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address"}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("p",{children:v.address}),(0,r.jsxs)("p",{children:[v.city,", ",v.province," ",v.postalCode]})]})]})]})]})]})}let y=()=>(0,r.jsx)(g,{})},33980:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/staff/[id]",function(){return s(33795)}])},40097:(e,t,s)=>{"use strict";s.d(t,{n:()=>o});var r=s(14232),a=s(21407),i=s(60388),l=s(90089),n=s(37149),c=class extends l.Q{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.EN)(t.mutationKey)!==(0,n.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,a.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.jG.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},d=s(67768);function o(e,t){let s=(0,d.jE)(t),[a]=r.useState(()=>new c(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let l=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(i.jG.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=r.useCallback((e,t)=>{a.mutate(e,t).catch(n.lQ)},[a]);if(l.error&&(0,n.GU)(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}},52958:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},57009:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},58875:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},75375:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(56467).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},83686:()=>{},89099:(e,t,s)=>{e.exports=s(6763)}},e=>{e.O(0,[9659,9509,6672,8132,7914,669,2528,225,9143,1714,636,6593,8792],()=>e(e.s=33980)),_N_E=e.O()}]);